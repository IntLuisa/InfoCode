<?php

error_reporting(1);

// TODO: translate front
// TODO: improvement docs

// TODO: finish crud

// Default crud permission
// TODO: test

// Steps:
// 1. Create project with whole configuration, theme, components, email, dashboard default, landingpage
// 3. Features and bugs
//  3.1 - smart docs:bugfix - questions documentation
//  3.2 - smart docs:feature - questions documentation

class Smart
{
    function __construct()
    {
        Terminal::clear();
        Message::headerSmart();

        if (!Commands::hasParams()) {
            Message::notParamsInstruction();
            die;
        }

        switch (Commands::command()) {
            case 'test':
                Create::addTemplate();
                break;
            case 'dev':
            case 'serve':
                new Serve();
                break;
            case 'create':
                new Create();
                break;
            case 'make':
                new Make();
                break;
            case 'doc':
                new Documentation();
            case 'config':
                new Configure();
                break;
            case '-h':
            case '--help':
                new Help();
                break;
            default:
                echo Message::txtRed("Command not recognized.\n\n");
                break;
        }
    }
}

class Create
{
    function __construct()
    {
        self::createProject();
        self::configureEnvironment();
        self::configureStack();
        self::createFilter();
        self::createLanguageFiles();
        self::addFontAwesome();
        self::dockerFiles();
        self::eslintAndPrettier();
        self::exceptionAndLog();
        self::crudPermissions();

        Icon::create();
        Icon::addIconLinks();

        Email::template();
        Email::create('Welcome');

        File::uncomment('Features::emailVerification', 'config/fortify.php');
        File::uncomment('Features::profilePhotos', 'config/jetstream.php');

        Documentation::create();

        if (Inputs::decisions("Do you would like to create a CRUD")) {
            $model_name = Inputs::type("Type the model name");
            Crud::create($model_name);
        }

        self::addTemplate();

        self::gitCommit();

        if (Inputs::decisions("Do you would like to start the server")) {
            Terminal::breakLines();
            new Serve();
        }
    }

    static private function createProject()
    {
        echo Message::txtCyan("Creating Laravel Project...\n\n");
        Loader::start('composer create-project laravel/laravel temp', 25);

        echo Message::txtCyan("Coping files...\n\n");
        Loader::start('cp -a temp/. .', 10);

        echo Message::txtCyan("Deleting temp folder...\n\n");
        Loader::start('rm -rf temp', 3);

        echo Message::txtCyan("Installing Jetstream...\n\n", 15);
        Loader::start('composer require laravel/jetstream');

        Terminal::exec('php artisan storage:link');
    }

    static private function configureEnvironment()
    {
        echo Message::txtPurpleLight("Let's configure your environment.\n\n");

        $app_name = Inputs::type("Type your project name", "Smart");
        Env::set("APP_NAME", '"' . $app_name . '"');

        $lang = Inputs::type("Type project language", "pt_BR");
        Env::set("APP_LOCALE", $lang);

        Configure::database();
        Terminal::breakLines();
        Configure::mail();
        Configure::composer();
    }

    static private function configureStack()
    {
        echo Message::txtPurpleLight("Let's configure project Stack.\n");

        $stacks = ["inertia", "livewire", "no stack"];
        $stackIndex = Inputs::options($stacks, "What Stack would you like to use");

        if ($stackIndex !== 2) {
            $isTeam = Inputs::decisions("Do you would like \"teams\" support");

            if (!$stackIndex && !$isTeam) {
                $ssrIndex = Inputs::decisions("Do you would like \"SSR\" support");
            }

            $templateIndex = Inputs::decisions("Do you would like a \"dark mode\" template");

            echo Message::txtPurpleLight("\nInstalling Stack...\n\n");

            Loader::start("php artisan jetstream:install " . $stacks[$stackIndex] .
                ($isTeam ? " --teams" : "") . ($ssrIndex ? " --ssr" : "") .
                ($templateIndex ? " --dark" : ""), 70);
        }
    }

    static private function createFilter()
    {
        echo Message::txtPurpleLight("\nCreating Filters Files...\n\n");

        $directory = 'app/Filters';
        $filterPageContent = "<?php\n\nnamespace App\Filters;\n/**\n * ======================================================================\n * Helper to filter queries\n * \n * Examples\n * \n * CURL\n * path/to/endpoint?created_at[gt]=2023-05-01&created_at[lt]=2023-05-23\n * \n * Javascript\n * axios.get('path/to/endpoint', {\n *    params: {\n *     date_paid: { gte: '2011-10-25', lte: '2015-01-01' },\n *    }\n * })\n * \n * ORDER BY\n * ?order_by[desc]=created_at\n * \n * LIMIT\n * ?limit=10\n * ?limit=5,10\n * ======================================================================\n */\n\nuse \Illuminate\Http\Request;\nclass Filter\n{\n  protected \$requestParams;\n  protected \$builder;\n  protected \$take = null;\n	protected \$safeParams = [];\n	protected \$columnMap = [];\n	protected \$operatorMap = [\n		'eq' => '=',\n		'lt' => '<',\n		'lte' => '<=',\n		'gt' => '>',\n		'gte' => '>=',\n		'in' => 'in',\n		'lk' => 'like',\n	];\n\n  /**\n   * ApiFilter constructor\n   * @param \Illuminate\Http\Request              \$request\n   * @return void\n   */\n  public function __construct(Request \$request, \$model)\n  {\n    \$this->requestParams = \$request->query();\n    \$this->builder = \$model::query();\n    \$this->wheres();\n    \$this->nulls();\n    \$this->orderBy();\n    \$this->limit();\n    \$this->trash();\n  }\n\n  /**\n   * Get builder\n   * @return \Illuminate\Database\Eloquent\Builder;\n   */\n  public function getBuilder() {\n    return \$this->builder->paginate(\$this->take);\n  }\n\n  /**\n   * Add wheres params to builder\n   * @return void\n   */\n	public function wheres(): void\n	{\n		foreach (\$this->safeParams as \$param => \$operators) {\n      \n      if (isset(\$this->requestParams[\$param])) {\n        \$query = \$this->requestParams[\$param];        // ex.: ['gt' => '2023-05-01', 'lt' => '2023-05-23']\n        \$column = \$this->columnMap[\$param] ?? \$param; // ex.: created_at\n          \n        foreach (\$operators as \$operator) {           // ex.: ['eq', 'lt']\n          if (isset(\$query[\$operator])) {\n            if(\$operator === 'in')\n              \$this->builder->whereIn(\$column, \$query[\$operator]);\n            else\n              \$this->builder->where(\$column, \$this->operatorMap[\$operator], \$query[\$operator]);\n          }\n        }\n      }\n		}\n	}\n\n  /**\n   * Add Null and Not Null to builder\n   * @return void\n   */\n	public function nulls(): void\n  {\n    \$params = \$this->requestParams['null'] ?? [];\n    if(!is_array(\$params)) {\n      \$params = [\$params];\n    };\n\n    foreach (\$params as \$values) {\n      if(!is_array(\$values)) {\n        \$values = [\$values];\n      };\n\n      foreach (\$values as \$value) {\n        if(isset(\$this->safeParams[\$value])) {\n          \$this->builder->whereNull(\$value);\n        }\n      }\n    }\n\n    \$params = \$this->requestParams['not_null'] ?? [];\n    if(!is_array(\$params)) {\n      \$params = [\$params];\n    };\n\n    foreach (\$params as \$values) {\n      if(!is_array(\$values)) {\n        \$values = [\$values];\n      };\n\n      foreach (\$values as \$value) {\n        if(isset(\$this->safeParams[\$value])) {\n          \$this->builder->whereNotNull(\$value);\n        }\n      }\n    }\n  }\n\n  /**\n	 * Add order by to builder\n	 * @return  void\n	 */\n  public function orderBy() : void\n  {\n    \$params = \$this->requestParams['order_by'] ?? [];\n\n    foreach (\$params as \$key => \$values) {\n      if(!is_array(\$values)) {\n        \$values = [\$values];\n      };\n\n      foreach (\$values as \$value) {\n        if(isset(\$this->safeParams[\$value])) {\n          \$this->builder->orderBy(\$value, \$key);\n        }\n      }\n    }\n  }\n\n  /**\n	 * Add limit to builder\n	 * @return  void\n	 */\n  public function limit() : void\n  {\n    if(isset(\$this->requestParams['limit'])) {\n      [\$skip, \$take] = explode(',', \$this->requestParams['limit']) + [null, null];\n\n      if(empty(\$take)) {\n        \$take = \$skip;\n        \$skip = 0;\n      }\n\n      \$this->take = \$take;\n      \$this->builder->skip(\$skip)->take(\$take);\n    }\n  }\n\n  /**\n  * Add trash to builder\n  * @return  void\n  */\n  public function trash() : void\n  {\n    if(isset(\$this->requestParams['trash'])) {\n      \$this->builder->withTrashed();\n    }\n  }\n}";
        File::createFolder($directory);
        File::write($directory . '/Filter.php', $filterPageContent);
    }

    static function createLanguageFiles(): void
    {
        echo Message::txtPurpleLight("\nCreating Language Files...\n\n");

        File::createFolder('resources/lang');
        File::createFile('resources/lang', 'pt_BR.json', "{\n    \"(and :count more error)\": \"(e mais :count erro)\",\n    \"(and :count more errors)\": \"(e mais :count erro)|(e mais :count erros)|(e mais :count erros)\",\n    \"30 Days\": \"30 dias\",\n    \"365 Days\": \"365 dias\",\n    \"60 Days\": \"60 dias\",\n    \"90 Days\": \"90 dias\",\n    \":amount selected\": \":Amount selecionados\",\n    \":amount Total\": \"Total :amount\",\n    \":days day trial\": \":Days dias de teste\",\n    \":resource Details\": \":Resource detalhes\",\n    \":resource Details: :title\": \":Resource detalhes: :title\",\n    \"A decryption key is required.\": \"A decryption key is required.\",\n    \"A fresh verification link has been sent to your email address.\": \"Um novo link de verificação foi enviado para seu endereço de e-mail.\",\n    \"A new verification link has been sent to the email address you provided during registration.\": \"Um novo link de verificação foi enviado para o endereço de e-mail que você forneceu durante o processo de cadastro.\",\n    \"A new verification link has been sent to the email address you provided in your profile settings.\": \"Um novo link de verificação foi enviado para o endereço de e-mail fornecido nas configurações do seu perfil.\",\n    \"A new verification link has been sent to your email address.\": \"Um novo link de verificação foi enviado para seu endereço de e-mail.\",\n    \"Accept Invitation\": \"Aceitar convite\",\n    \"Action\": \"Ação\",\n    \"Action Happened At\": \"Aconteceu Em\",\n    \"Action Initiated By\": \"Ação iniciada por\",\n    \"Action Name\": \"Nome da ação\",\n    \"Action Status\": \"Status da ação\",\n    \"Action Target\": \"Destino da ação\",\n    \"Actions\": \"Ações\",\n    \"Add\": \"Adicionar\",\n    \"Add :resource\": \"Adicionar :resource\",\n    \"Add a new team member to your team, allowing them to collaborate with you.\": \"Adicionar um novo membro no seu time, permitindo que ele colabore com você.\",\n    \"Add additional security to your account using two factor authentication.\": \"Adicione mais segurança à sua conta usando autenticação em dois fatores.\",\n    \"Add Payment Method\": \"Adicionar método de pagamento\",\n    \"Add row\": \"Adicionar linha\",\n    \"Add Team Member\": \"Adicionar membro ao time\",\n    \"Add VAT Number\": \"Adicionar número de VAT\",\n    \"Added.\": \"Adicionado.\",\n    \"Additional billing information updated successfully.\": \"Informações de cobrança adicionais atualizadas com sucesso.\",\n    \"Address\": \"Endereço\",\n    \"Address Line 2\": \"Endereço linha 2\",\n    \"Administrator\": \"Administrador\",\n    \"Administrator users can perform any action.\": \"Usuários com privilégios de Administrador podem executar qualquer ação.\",\n    \"Afghanistan\": \"Afeganistão\",\n    \"Aland Islands\": \"Ilhas Åland\",\n    \"Albania\": \"Albânia\",\n    \"Algeria\": \"Argélia\",\n    \"All of the people that are part of this team.\": \"Todas as pessoas que fazem parte deste time.\",\n    \"All resources loaded.\": \"Todos os recursos carregados.\",\n    \"All rights reserved.\": \"Todos os direitos reservados.\",\n    \"Already registered?\": \"Já registrado?\",\n    \"American Samoa\": \"Samoa Americana\",\n    \"An error occurred while uploading the file.\": \"Ocorreu um erro ao carregar o arquivo.\",\n    \"An error occurred while uploading the file: :error\": \"Ocorreu um erro ao carregar o arquivo: :error\",\n    \"An unexpected error occurred and we have notified our support team. Please try again later.\": \"Ocorreu um erro inesperado e notificamos nosso time de suporte. Por favor, tente novamente mais tarde.\",\n    \"Andorra\": \"Andorra\",\n    \"Angola\": \"Angola\",\n    \"Anguilla\": \"Anguila\",\n    \"Another user has updated this resource since this page was loaded. Please refresh the page and try again.\": \"Outro usuário atualizou este recurso desde que esta página foi carregada. Por favor, refresque a página e tente novamente.\",\n    \"Antarctica\": \"Antártica\",\n    \"Antigua And Barbuda\": \"Antígua E Barbuda\",\n    \"Antigua and Barbuda\": \"Antígua e Barbuda\",\n    \"API Token\": \"Token da API\",\n    \"API Token Permissions\": \"Permissões do Token da API\",\n    \"API Tokens\": \"Tokens da API\",\n    \"API tokens allow third-party services to authenticate with our application on your behalf.\": \"Tokens da API permitem que serviços de terceiros se autentiquem em nossa aplicação em seu nome.\",\n    \"Apply\": \"Aplicar\",\n    \"Apply Coupon\": \"Aplicar Cupom\",\n    \"April\": \"Abril\",\n    \"Are you sure you want to attempt to pay :amount?\": \"Tem certeza de que deseja tentar pagar :amount?\",\n    \"Are you sure you want to cancel your subscription?\": \"Tem certeza que deseja cancelar sua assinatura?\",\n    \"Are you sure you want to delete all the notifications?\": \"Tem certeza de que deseja excluir todas as notificações?\",\n    \"Are you sure you want to delete the selected resources?\": \"Você tem certeza que deseja excluir os recursos selecionados?\",\n    \"Are you sure you want to delete this file?\": \"Você tem certeza que deseja excluir este arquivo?\",\n    \"Are you sure you want to delete this notification?\": \"Tem certeza de que deseja excluir esta notificação?\",\n    \"Are you sure you want to delete this payment method?\": \"Tem certeza de que deseja excluir esta forma de pagamento?\",\n    \"Are you sure you want to delete this resource?\": \"Você tem certeza que deseja excluir este recurso?\",\n    \"Are you sure you want to delete this team? Once a team is deleted, all of its resources and data will be permanently deleted.\": \"Tem certeza que quer excluir este time? Uma vez excluído, todos os dados e recursos relativos a ela serão excluídos permanentemente.\",\n    \"Are you sure you want to delete your account?\": \"Tem certeza que quer excluir a sua conta?\",\n    \"Are you sure you want to delete your account? Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account.\": \"Tem certeza que quer excluir a sua conta? Uma vez excluída, todos os dados e recursos relativos a ela serão permanentemente excluídos. Por favor informe a sua senha para confirmar que você deseja excluir permanentemente a sua conta.\",\n    \"Are you sure you want to detach the selected resources?\": \"Você tem certeza que deseja liberar os recursos selecionados?\",\n    \"Are you sure you want to detach this resource?\": \"Você tem certeza que deseja liberar esse recurso?\",\n    \"Are you sure you want to force delete the selected resources?\": \"Você tem certeza que deseja forçar a exclusão dos recursos selecionados?\",\n    \"Are you sure you want to force delete this resource?\": \"Você tem certeza que deseja forçar a exclusão deste recurso?\",\n    \"Are you sure you want to log out?\": \"Tem certeza que deseja sair?\",\n    \"Are you sure you want to remove this item?\": \"Tem certeza de que deseja remover este item?\",\n    \"Are you sure you want to restore the selected resources?\": \"Você tem certeza que deseja restaurar os recursos selecionados?\",\n    \"Are you sure you want to restore this resource?\": \"Você tem certeza que deseja restaurar esse recurso?\",\n    \"Are you sure you want to resume your subscription?\": \"Tem certeza de que deseja retomar sua assinatura?\",\n    \"Are you sure you want to run this action?\": \"Você tem certeza que deseja executar essa ação?\",\n    \"Are you sure you want to set this payment method as your default?\": \"Tem certeza de que deseja definir esta forma de pagamento como padrão?\",\n    \"Are you sure you want to stop impersonating?\": \"Tem certeza de que deseja parar de personificar?\",\n    \"Are you sure you would like to delete this API token?\": \"Tem certeza de que deseja excluir este token da API?\",\n    \"Are you sure you would like to leave this team?\": \"Tem certeza de que deseja sair deste time?\",\n    \"Are you sure you would like to remove this person from the team?\": \"Tem certeza de que deseja remover esta pessoa do time?\",\n    \"Are you sure you would like to switch billing plans?\": \"Tem certeza de que deseja mudar os planos de cobrança?\",\n    \"Argentina\": \"Argentina\",\n    \"Armenia\": \"Armênia\",\n    \"Aruba\": \"Aruba\",\n    \"Attach\": \"Anexar\",\n    \"Attach & Attach Another\": \"Anexar & Anexar outro\",\n    \"Attach :resource\": \"Anexar :resource\",\n    \"Attach files by dragging & dropping, selecting or pasting them.\": \"Anexe arquivos arrastando e soltando, selecionando ou colando.\",\n    \"Attendance\": \"Comparecimento\",\n    \"August\": \"Agosto\",\n    \"Australia\": \"Austrália\",\n    \"Austria\": \"Áustria\",\n    \"Azerbaijan\": \"Azerbaijão\",\n    \"Bahamas\": \"Bahamas\",\n    \"Bahrain\": \"Barém\",\n    \"Bangladesh\": \"Bangladesh\",\n    \"Barbados\": \"Barbados\",\n    \"Before continuing, could you verify your email address by clicking on the link we just emailed to you? If you didn't receive the email, we will gladly send you another.\": \"Antes de continuar, você pode verificar seu endereço de e-mail clicando no link que acabamos de enviar para você? Se você não recebeu o e-mail, teremos o prazer de lhe enviar outro.\",\n    \"Before proceeding, please check your email for a verification link.\": \"Antes de prosseguir, verifique seu e-mail para obter um link de verificação.\",\n    \"Belarus\": \"Bielorrússia\",\n    \"Belgium\": \"Bélgica\",\n    \"Belize\": \"Belize\",\n    \"Benin\": \"Benim\",\n    \"Bermuda\": \"Bermuda\",\n    \"Bhutan\": \"Butão\",\n    \"Billing Information\": \"Informações sobre faturamento\",\n    \"Billing Management\": \"Gestão de Faturamento\",\n    \"Bolivia\": \"Bolívia\",\n    \"Bolivia, Plurinational State of\": \"Estado Plurinacional da Bolívia\",\n    \"Bonaire, Sint Eustatius and Saba\": \"Bonaire, Santo Eustáquio e Saba\",\n    \"Bosnia And Herzegovina\": \"Bósnia E Herzegovina\",\n    \"Bosnia and Herzegovina\": \"Bósnia e Herzegovina\",\n    \"Botswana\": \"Botsuana\",\n    \"Bouvet Island\": \"Ilha Bouvet\",\n    \"Brazil\": \"Brasil\",\n    \"British Indian Ocean Territory\": \"Território Britânico do Oceano Índico\",\n    \"Browser Sessions\": \"Sessões do navegador\",\n    \"Brunei Darussalam\": \"Brunei\",\n    \"Bulgaria\": \"Bulgária\",\n    \"Burkina Faso\": \"Burquina Faso\",\n    \"Burundi\": \"Burundi\",\n    \"Cambodia\": \"Camboja\",\n    \"Cameroon\": \"Camarões\",\n    \"Canada\": \"Canadá\",\n    \"Cancel\": \"Cancelar\",\n    \"Cancel Subscription\": \"Cancelar a assinatura\",\n    \"Cape Verde\": \"Cabo Verde\",\n    \"Card\": \"Cartão\",\n    \"Cayman Islands\": \"Ilhas Cayman\",\n    \"Central African Republic\": \"República da África Central\",\n    \"Chad\": \"Chade\",\n    \"Change Subscription Plan\": \"Alterar plano de assinatura\",\n    \"Change the current payment method attached to your subscription\": \"Change the current payment method attached to your subscription\",\n    \"Changes\": \"Alterações\",\n    \"Checkout\": \"Confira\",\n    \"Chile\": \"Chile\",\n    \"China\": \"China\",\n    \"Choose\": \"Escolha\",\n    \"Choose :field\": \"Escolha :field\",\n    \"Choose :resource\": \"Escolha :resource\",\n    \"Choose a project\": \"Escolha um projeto\",\n    \"Choose an option\": \"Escolha uma opção\",\n    \"Choose date\": \"Escolha uma data\",\n    \"Choose File\": \"Escolha o arquivo\",\n    \"Choose Files\": \"Escolha os arquivos\",\n    \"Choose Type\": \"Escolha o tipo\",\n    \"Christmas Island\": \"Ilha Do Natal\",\n    \"City\": \"Cidade\",\n    \"Click here to re-send the verification email.\": \"Clique aqui para reenviar o e-mail de verificação.\",\n    \"click here to request another\": \"clique aqui para solicitar outro\",\n    \"Click to choose\": \"Clique para escolher\",\n    \"Close\": \"Fechar\",\n    \"Cocos (Keeling) Islands\": \"Ilhas Cocos (Keeling)\",\n    \"Code\": \"Código\",\n    \"Colombia\": \"Colômbia\",\n    \"Comoros\": \"Comores\",\n    \"Confirm\": \"Confirmar\",\n    \"Confirm Billing Action\": \"Confirmar Ação de Cobrança\",\n    \"Confirm Password\": \"Confirmar senha\",\n    \"Confirm Payment\": \"Confirmar pagamento\",\n    \"Confirm your :amount payment\": \"Confirme seu pagamento de :amount\",\n    \"Congo\": \"Congo\",\n    \"Congo, Democratic Republic\": \"República Democrática do Congo\",\n    \"Congo, the Democratic Republic of the\": \"República Democrática do Congo\",\n    \"Constant\": \"Constante\",\n    \"Continue To Payment\": \"Continuar para pagamento\",\n    \"Cook Islands\": \"Ilhas Cook\",\n    \"Copy to clipboard\": \"Copiar para área de transferência\",\n    \"Costa Rica\": \"Costa Rica\",\n    \"Cote D'Ivoire\": \"Costa do Marfim\",\n    \"Country\": \"País\",\n    \"Coupon\": \"Cupom\",\n    \"Coupon applied successfully.\": \"Cupom aplicado com sucesso.\",\n    \"Create\": \"Criar\",\n    \"Create & Add Another\": \"Criar e Adicionar Outro\",\n    \"Create :resource\": \"Criar :resource\",\n    \"Create a new team to collaborate with others on projects.\": \"Crie um time para colaborar com outros em projetos.\",\n    \"Create Account\": \"Criar Conta\",\n    \"Create API Token\": \"Criar Token da API\",\n    \"Create New Team\": \"Criar Novo Time\",\n    \"Create Team\": \"Criar Time\",\n    \"Created.\": \"Criado.\",\n    \"Croatia\": \"Croácia\",\n    \"CSV (.csv)\": \"CSV (.csv)\",\n    \"Cuba\": \"Cuba\",\n    \"Curaçao\": \"Curaçao\",\n    \"Current Password\": \"Senha Atual\",\n    \"Current Subscription Plan\": \"Plano de assinatura atual\",\n    \"Currently Subscribed\": \"Atualmente Assinado\",\n    \"Customer Balance\": \"Saldo do Cliente\",\n    \"Customize\": \"Personalizar\",\n    \"Cyprus\": \"Chipre\",\n    \"Czech Republic\": \"República Checa\",\n    \"Côte d'Ivoire\": \"Costa do Marfim\",\n    \"Dark\": \"Escuro\",\n    \"Dashboard\": \"Painel\",\n    \"December\": \"Dezembro\",\n    \"Decrease\": \"Diminuir\",\n    \"Default\": \"Padrão\",\n    \"Delete\": \"Excluir\",\n    \"Delete Account\": \"Excluir Conta\",\n    \"Delete all notifications\": \"Excluir todas as notificações\",\n    \"Delete API Token\": \"Excluir Token da API\",\n    \"Delete File\": \"Excluir O Arquivo\",\n    \"Delete Resource\": \"Excluir O Recurso\",\n    \"Delete Selected\": \"Excluir Os Selecionados\",\n    \"Delete Team\": \"Excluir Time\",\n    \"Denmark\": \"Dinamarca\",\n    \"Detach\": \"Desanexar\",\n    \"Detach Resource\": \"Separar o Recurso\",\n    \"Detach Selected\": \"Separar os Selecionados\",\n    \"Details\": \"Detalhes\",\n    \"Disable\": \"Desativar\",\n    \"Djibouti\": \"Jibuti\",\n    \"Do you really want to leave? You have unsaved changes.\": \"Quer mesmo sair? Você tem mudanças não salvas.\",\n    \"Dominica\": \"Dominica\",\n    \"Dominican Republic\": \"República Dominicana\",\n    \"Done.\": \"Feito.\",\n    \"Download\": \"Baixar\",\n    \"Download Invoice\": \"Download Invoice\",\n    \"Download Receipt\": \"Baixar Recibo\",\n    \"Drop file or click to choose\": \"Solte o arquivo ou clique para escolher\",\n    \"Drop files or click to choose\": \"Solte os arquivos ou clique para escolher\",\n    \"Ecuador\": \"Equador\",\n    \"Edit\": \"Editar\",\n    \"Edit :resource\": \"Editar :resource\",\n    \"Edit Attached\": \"Editar Anexado\",\n    \"Edit Profile\": \"Editar Perfil\",\n    \"Editor\": \"Editor\",\n    \"Editor users have the ability to read, create, and update.\": \"Usuários com privilégios de Editor podem ler, criar e atualizar.\",\n    \"Egypt\": \"Egito\",\n    \"El Salvador\": \"El Salvador\",\n    \"Email\": \"E-mail\",\n    \"email\": \"e-mail\",\n    \"Email Address\": \"Endereço de E-mail\",\n    \"Email Addresses\": \"Endereços de e-mail\",\n    \"Email Password Reset Link\": \"Link de redefinição de senha\",\n    \"Employee\": \"Funcionário\",\n    \"Enable\": \"Ativar\",\n    \"Encrypted environment file already exists.\": \"Encrypted environment file already exists.\",\n    \"Encrypted environment file not found.\": \"Encrypted environment file not found.\",\n    \"Ensure your account is using a long, random password to stay secure.\": \"Garanta que sua conta esteja usando uma senha longa e aleatória para se manter seguro.\",\n    \"Environment file already exists.\": \"Environment file already exists.\",\n    \"Environment file not found.\": \"Environment file not found.\",\n    \"Equatorial Guinea\": \"Guiné Equatorial\",\n    \"Eritrea\": \"Eritreia\",\n    \"Error\": \"Erro\",\n    \"errors\": \"erros\",\n    \"Estonia\": \"Estônia\",\n    \"Ethiopia\": \"Etiópia\",\n    \"ex VAT\": \"sem VAT\",\n    \"Excel (.xlsx)\": \"Excel (.xlsx)\",\n    \"Expires :expiration\": \"Expira :expiration\",\n    \"Extra Billing Information\": \"Informações extras de faturamento\",\n    \"Extra confirmation is needed to process your payment. Please continue to the payment page by clicking on the button below.\": \"É necessária uma confirmação extra para processar o seu pagamento. Por favor, continue para a página de pagamento clicando no botão abaixo.\",\n    \"Failed Subscription Payment\": \"Falha no pagamento da assinatura\",\n    \"Failed to load :resource!\": \"Falha ao carregar :resource!\",\n    \"Falkland Islands (Malvinas)\": \"Ilhas Falkland (Malvinas)\",\n    \"Faroe Islands\": \"Ilhas Faroé\",\n    \"February\": \"Fevereiro\",\n    \"Fiji\": \"Fiji\",\n    \"Filename\": \"Nome do arquivo\",\n    \"Finish enabling two factor authentication.\": \"Termine de habilitar a autenticação de dois fatores.\",\n    \"Finland\": \"Finlândia\",\n    \"For your security, please confirm your password to continue.\": \"Para sua segurança, por favor confirme a sua senha antes de prosseguir.\",\n    \"Forbidden\": \"Proibido\",\n    \"Force Delete\": \"Forçar Exclusão\",\n    \"Force Delete Resource\": \"Forçar Exclusão de Recurso\",\n    \"Force Delete Selected\": \"Forçar Exclusão de Selecionado\",\n    \"Forgot Password\": \"Esqueceu a senha\",\n    \"Forgot your password?\": \"Esqueceu a senha?\",\n    \"Forgot Your Password?\": \"Esqueceu a Senha?\",\n    \"Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one.\": \"Esqueceu sua senha? Sem problemas. É só nos informar o seu e-mail que nós enviaremos para você um link para redefinição de senha que irá permitir que você escolha uma nova senha.\",\n    \"France\": \"França\",\n    \"French Guiana\": \"Guiana Francesa\",\n    \"French Polynesia\": \"Polinésia Francesa\",\n    \"French Southern Territories\": \"Territórios Austrais Franceses\",\n    \"From\": \"A partir de\",\n    \"Gabon\": \"Gabão\",\n    \"Gambia\": \"Gâmbia\",\n    \"Georgia\": \"Georgia\",\n    \"Germany\": \"Alemanha\",\n    \"Ghana\": \"Gana\",\n    \"Gibraltar\": \"Gibraltar\",\n    \"Go Home\": \"Ir para o início\",\n    \"Go to page :page\": \"Ir para página :page\",\n    \"Great! You have accepted the invitation to join the :team team.\": \"Muito bom! Você aceitou o convite para se juntar à equipa :team.\",\n    \"Greece\": \"Grécia\",\n    \"Greenland\": \"Groenlândia\",\n    \"Grenada\": \"Granada\",\n    \"Guadeloupe\": \"Guadalupe\",\n    \"Guam\": \"Guam\",\n    \"Guatemala\": \"Guatemala\",\n    \"Guernsey\": \"Guernsey\",\n    \"Guinea\": \"Guiné\",\n    \"Guinea-Bissau\": \"Guiné-Bissau\",\n    \"Guyana\": \"Guiana\",\n    \"Haiti\": \"Haiti\",\n    \"Having second thoughts about cancelling your subscription? You can instantly reactivate your subscription at any time until the end of your current billing cycle. After your current billing cycle ends, you may choose an entirely new subscription plan.\": \"Having second thoughts about cancelling your subscription? You can instantly reactivate your subscription at any time until the end of your current billing cycle. After your current billing cycle ends, you may choose an entirely new subscription plan.\",\n    \"Having second thoughts about cancelling your subscription? You can instantly reactive your subscription at any time until the end of your current billing cycle. After your current billing cycle ends, you may choose an entirely new subscription plan.\": \"Pensando melhor em cancelar sua assinatura? Você pode reativar instantaneamente sua assinatura a qualquer momento até o final do seu ciclo de cobrança atual. Após o término do seu ciclo de cobrança atual, você poderá escolher um plano de assinatura totalmente novo.\",\n    \"Heard Island & Mcdonald Islands\": \"Ilhas Heard e McDonald\",\n    \"Heard Island and McDonald Islands\": \"Ilha Heard e Ilhas McDonald\",\n    \"Hello!\": \"Olá!\",\n    \"Hide Content\": \"Esconder o Conteúdo\",\n    \"Hold Up!\": \"Espera!\",\n    \"Holy See (Vatican City State)\": \"Santa Sé\",\n    \"Honduras\": \"Honduras\",\n    \"Hong Kong\": \"Hong Kong\",\n    \"Hungary\": \"Hungria\",\n    \"I agree to the :terms_of_service and :privacy_policy\": \"Concordo com os :terms_of_service e com as :privacy_policy\",\n    \"Iceland\": \"Islândia\",\n    \"ID\": \"ID\",\n    \"If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password.\": \"Se necessário, você pode sair de todas as suas outras sessões de navegador em todos os seus dispositivos. Algumas de suas sessões recentes estão listadas abaixo; no entanto, esta lista pode não ser exaustiva. Se você sentir que sua conta foi comprometida, Você também deve atualizar sua senha.\",\n    \"If you already have an account, you may accept this invitation by clicking the button below:\": \"Se já tiver uma conta, poderá aceitar este convite carregando no botão abaixo:\",\n    \"If you did not create an account, no further action is required.\": \"Se você não criou uma conta, ignore este e-mail.\",\n    \"If you did not expect to receive an invitation to this team, you may discard this email.\": \"Se você não esperava receber um convite para este time, você pode descartar este e-mail.\",\n    \"If you did not receive the email\": \"Se você não recebeu o e-mail\",\n    \"If you did not request a password reset, no further action is required.\": \"Se você não solicitou essa redefinição de senha, ignore este e-mail.\",\n    \"If you do not have an account, you may create one by clicking the button below. After creating an account, you may click the invitation acceptance button in this email to accept the team invitation:\": \"Se você não tem uma conta, você pode criar uma clicando no botão abaixo. Depois de criar uma conta, você pode clicar no botão aceitar o convite neste e-mail para aceitar o convite do time:\",\n    \"If you need to add specific contact or tax information to your receipts, like your full business name, VAT identification number, or address of record, you may add it here.\": \"Se você precisar adicionar informações fiscais ou de contato específicas aos seus recibos, como seu nome comercial completo, número de identificação de VAT ou endereço de registro, você pode adicioná-las aqui.\",\n    \"If you're having trouble clicking the \\\":actionText\\\" button, copy and paste the URL below\\ninto your web browser:\": \"Se você estiver tendo problemas para clicar no botão \\\":actionText\\\", copie e cole a URL abaixo\\nem seu navegador:\",\n    \"Impersonate\": \"Personificar\",\n    \"Increase\": \"Aumentar\",\n    \"India\": \"Índia\",\n    \"Indonesia\": \"Indonésia\",\n    \"Invalid filename.\": \"Invalid filename.\",\n    \"Invalid JSON was returned from the route.\": \"JSON inválido foi retornado da rota.\",\n    \"Invoices\": \"Invoices\",\n    \"Iran, Islamic Republic Of\": \"República Islâmica do Irã\",\n    \"Iran, Islamic Republic of\": \"República Islâmica do Irã\",\n    \"Iraq\": \"Iraque\",\n    \"Ireland\": \"Irlanda\",\n    \"Isle Of Man\": \"Ilha de Man\",\n    \"Isle of Man\": \"Ilha de Man\",\n    \"Israel\": \"Israel\",\n    \"It looks like you do not have an active subscription. You may choose one of the subscription plans below to get started. Subscription plans may be changed or cancelled at your convenience.\": \"Parece que você não tem uma assinatura ativa. Você pode escolher um dos planos de assinatura abaixo para começar. Os planos de assinatura podem ser alterados ou cancelados conforme sua conveniência.\",\n    \"Italy\": \"Itália\",\n    \"Jamaica\": \"Jamaica\",\n    \"January\": \"Janeiro\",\n    \"Japan\": \"Japão\",\n    \"Jersey\": \"Jersey\",\n    \"Jordan\": \"Jordânia\",\n    \"July\": \"Julho\",\n    \"June\": \"Junho\",\n    \"Kazakhstan\": \"Cazaquistão\",\n    \"Kenya\": \"Quênia\",\n    \"Key\": \"Chave\",\n    \"Kiribati\": \"Quiribati\",\n    \"Korea\": \"Coreia\",\n    \"Korea, Democratic People's Republic of\": \"República Popular Democrática da Coreia\",\n    \"Korea, Republic of\": \"República da Coreia\",\n    \"Kosovo\": \"Kosovo\",\n    \"Kuwait\": \"Kuwait\",\n    \"Kyrgyzstan\": \"Quirguistão\",\n    \"Lao People's Democratic Republic\": \"República Democrática Popular do Lao\",\n    \"Last active\": \"Última atividade\",\n    \"Last used\": \"Usado por último\",\n    \"Latvia\": \"Letônia\",\n    \"Leave\": \"Sair\",\n    \"Leave Team\": \"Sair do Time\",\n    \"Lebanon\": \"Líbano\",\n    \"length\": \"length\",\n    \"Lens\": \"Lens\",\n    \"Lesotho\": \"Lesoto\",\n    \"Liberia\": \"Libéria\",\n    \"Libyan Arab Jamahiriya\": \"Jamahiriya Árabe da Líbia\",\n    \"Liechtenstein\": \"Liechtenstein\",\n    \"Light\": \"Claro\",\n    \"Lithuania\": \"Lituânia\",\n    \"Load :perPage More\": \"Carregar mais :perPage\",\n    \"Loading\": \"Carregando\",\n    \"Location\": \"Localização\",\n    \"Log in\": \"Entrar\",\n    \"Log In\": \"Entrar\",\n    \"Log Out\": \"Sair\",\n    \"Log out\": \"Sair\",\n    \"Log Out Other Browser Sessions\": \"Desligar Outras Sessões do Navegador\",\n    \"Log Viewer\": \"Visualizador de Log\",\n    \"Login\": \"Entrar\",\n    \"Logout\": \"Sair\",\n    \"Logs\": \"Logs\",\n    \"Luxembourg\": \"Luxemburgo\",\n    \"Macao\": \"Macau\",\n    \"Macedonia\": \"Macedônia do Norte\",\n    \"Macedonia, the former Yugoslav Republic of\": \"Ex-República Iugoslava da Macedônia\",\n    \"Madagascar\": \"Madagascar\",\n    \"Malawi\": \"Malawi\",\n    \"Malaysia\": \"Malásia\",\n    \"Maldives\": \"Maldivas\",\n    \"Mali\": \"Mali\",\n    \"Malta\": \"Malta\",\n    \"Manage Account\": \"Gerenciar Conta\",\n    \"Manage and log out your active sessions on other browsers and devices.\": \"Gerenciar e registrar suas sessões ativas em outros navegadores e dispositivos.\",\n    \"Manage API Tokens\": \"Gerenciar Tokens de API\",\n    \"Manage Role\": \"Gerenciar Papel\",\n    \"Manage Team\": \"Gerenciar Time\",\n    \"Managing billing for :billableName\": \"Gerenciando o faturamento de :billableName\",\n    \"March\": \"Março\",\n    \"Mark all as Read\": \"Marcar tudo como lido\",\n    \"Mark Read\": \"Marque lido\",\n    \"Mark Unread\": \"Marcar não lido\",\n    \"Marshall Islands\": \"Ilhas Marshall\",\n    \"Martinique\": \"Mauritânia\",\n    \"Mauritania\": \"Mauritania\",\n    \"Mauritius\": \"Mauritania\",\n    \"May\": \"Maio\",\n    \"Mayotte\": \"Mayotte\",\n    \"Mexico\": \"México\",\n    \"Micronesia, Federated States Of\": \"Estados Federados da Micronésia\",\n    \"Micronesia, Federated States of\": \"Estados Federados da Micronésia\",\n    \"Moldova\": \"Moldávia\",\n    \"Moldova, Republic of\": \"República da Moldávia\",\n    \"Monaco\": \"Mônaco\",\n    \"Mongolia\": \"Mongólia\",\n    \"Montenegro\": \"Montenegro\",\n    \"Month To Date\": \"Mês até a Data\",\n    \"Monthly\": \"Mensal\",\n    \"monthly\": \"mensal\",\n    \"Montserrat\": \"Monserrate\",\n    \"Morocco\": \"Marrocos\",\n    \"Mozambique\": \"Moçambique\",\n    \"Myanmar\": \"Birmânia\",\n    \"Name\": \"Nome\",\n    \"name\": \"nome\",\n    \"Namibia\": \"Namíbia\",\n    \"Nauru\": \"Nauru\",\n    \"Nepal\": \"Nepal\",\n    \"Netherlands\": \"Países Baixos\",\n    \"Netherlands Antilles\": \"Antilhas Holandesas\",\n    \"Nevermind\": \"Não importa\",\n    \"Nevermind, I'll keep my old plan\": \"Esqueça, vou manter meu antigo plano\",\n    \"New\": \"Novo\",\n    \"New :resource\": \"Novo :resource\",\n    \"New Caledonia\": \"Nova Caledônia\",\n    \"New Password\": \"Nova Senha\",\n    \"New Zealand\": \"Nova Zelândia\",\n    \"Next\": \"Próximo\",\n    \"Next Payment\": \"Próximo Pagamento\",\n    \"Next Payment on\": \"Próximo pagamento em\",\n    \"Nicaragua\": \"Nicarágua\",\n    \"Niger\": \"Níger\",\n    \"Nigeria\": \"Nigéria\",\n    \"Niue\": \"Niue\",\n    \"No\": \"Não\",\n    \"No :resource matched the given criteria.\": \"Nenhum :resource corresponde aos critérios indicados.\",\n    \"No additional information...\": \"Nenhuma informação adicional...\",\n    \"No Current Data\": \"Sem Dados Atuais\",\n    \"No Data\": \"Sem Dados\",\n    \"no file selected\": \"nenhum arquivo selecionado\",\n    \"No Increase\": \"Sem Aumento\",\n    \"No payment methods on file.\": \"Nenhum método de pagamento registrado.\",\n    \"No payment scheduled.\": \"Nenhum pagamento agendado.\",\n    \"No Prior Data\": \"Sem Dados Anteriores\",\n    \"No Results Found.\": \"Não Foram Encontrados Resultados.\",\n    \"Norfolk Island\": \"Ilha Norfolk\",\n    \"Northern Mariana Islands\": \"Ilhas Marianas do Norte\",\n    \"Norway\": \"Noruega\",\n    \"Not Found\": \"Não Encontrado\",\n    \"Notifications\": \"Notificações\",\n    \"Nova\": \"Nova\",\n    \"Nova User\": \"Usuário Nova\",\n    \"November\": \"Novembro\",\n    \"October\": \"Outubro\",\n    \"of\": \"de\",\n    \"Oman\": \"Omã\",\n    \"Once a team is deleted, all of its resources and data will be permanently deleted. Before deleting this team, please download any data or information regarding this team that you wish to retain.\": \"Uma vez excluído, o time e todos os seus dados e recursos serão excluídos permanentemente. Antes de excluir este time, faça download de todos os dados e informações sobre este time que você deseje manter.\",\n    \"Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain.\": \"Uma vez que sua conta é excluída, todos os dados e recursos desta conta serão excluídos permanentemente. Antes de excluir a sua conta, faça download de todos os dados e informações que você deseje manter.\",\n    \"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account.\": \"Uma vez excluída, todos os dados e recursos relativos a ela serão permanentemente excluídos. Por favor informe a sua senha para confirmar que você deseja excluir permanentemente a sua conta.\",\n    \"Only Trashed\": \"Apenas Destruído\",\n    \"Open Invoices\": \"Faturas Abertas\",\n    \"Original\": \"Original\",\n    \"Our billing management portal allows you to conveniently manage your subscription plan, payment method, and download your recent invoices.\": \"Nosso portal de gerenciamento de cobrança permite que você gerencie convenientemente seu plano de assinatura, método de pagamento e baixe suas faturas recentes.\",\n    \"Our billing management portal allows you to conveniently manage your subscription plan, payment methods, and download your recent invoices.\": \"Nosso portal de gerenciamento de cobrança permite que você gerencie convenientemente seu plano de assinatura, métodos de pagamento e baixe suas faturas recentes.\",\n    \"Page Expired\": \"Página expirou\",\n    \"Pagination Navigation\": \"Navegação da Paginação\",\n    \"Paid\": \"Pago\",\n    \"Pakistan\": \"Paquistão\",\n    \"Palau\": \"Palau\",\n    \"Palestinian Territory, Occupied\": \"Territórios Palestinos\",\n    \"Panama\": \"Panamá\",\n    \"Papua New Guinea\": \"Papua Nova Guiné\",\n    \"Paraguay\": \"Paraguai\",\n    \"Password\": \"Senha\",\n    \"password\": \"senha\",\n    \"Payment Confirmation\": \"Confirmação do Pagamento\",\n    \"Payment Information\": \"Informação de pagamento\",\n    \"Payment information updated successfully.\": \"Informações de pagamento atualizadas com sucesso.\",\n    \"Payment Method\": \"Forma de pagamento\",\n    \"Payment Methods\": \"Métodos de Pagamento\",\n    \"Payment Required\": \"Pagamento Requerido\",\n    \"Payments\": \"Pagamentos\",\n    \"Pending Team Invitations\": \"Convites de Time Pendentes\",\n    \"Per Page\": \"Por Página\",\n    \"Permanently delete this team.\": \"Excluir este time permanentemente.\",\n    \"Permanently delete your account.\": \"Excluir esta conta permanentemente.\",\n    \"Permissions\": \"Permissões\",\n    \"Person\": \"Pessoa\",\n    \"Peru\": \"Peru\",\n    \"Philippines\": \"Filipinas\",\n    \"Photo\": \"Foto\",\n    \"Pitcairn\": \"Picárnia\",\n    \"Please accept the terms of service.\": \"Por favor, aceite os termos de serviço.\",\n    \"Please click the button below to verify your email address.\": \"Por favor, clique no botão abaixo para verificar seu endereço de e-mail.\",\n    \"Please confirm access to your account by entering one of your emergency recovery codes.\": \"Por favor confirme o acesso à sua conta inserindo um de seus códigos de recuperação de emergência.\",\n    \"Please confirm access to your account by entering the authentication code provided by your authenticator application.\": \"Por favor confirme o acesso à sua conta informando um código de autenticação fornecido por seu aplicativo autenticador.\",\n    \"Please confirm your password before continuing.\": \"Por favor, confirme sua senha antes de continuar.\",\n    \"Please copy your new API token. For your security, it won't be shown again.\": \"Por favor copie seu novo token da API. Para sua segurança, ele não será mostrado novamente.\",\n    \"Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices.\": \"Introduza a sua senha para confirmar que deseja sair das suas outras sessões de navegação em todos os seus dispositivos.\",\n    \"Please provide a maximum of three receipt emails addresses.\": \"Forneça no máximo três endereços de e-mail.\",\n    \"Please provide the email address of the person you would like to add to this team.\": \"Por favor, forneça o endereço de E-mail da pessoa que você gostaria de adicionar a este time.\",\n    \"Please set a default payment method before swapping plans.\": \"Defina um método de pagamento padrão antes de trocar de plano.\",\n    \"Poland\": \"Polônia\",\n    \"Portugal\": \"Portugal\",\n    \"Press / to search\": \"Pressione / para pesquisar\",\n    \"Preview\": \"Visualizar\",\n    \"Previewing\": \"Visualizando\",\n    \"Previous\": \"Anterior\",\n    \"Privacy Policy\": \"Política de Privacidade\",\n    \"Profile\": \"Perfil\",\n    \"Profile Information\": \"Informações do Perfil\",\n    \"Puerto Rico\": \"Porto Rico\",\n    \"Qatar\": \"Qatar\",\n    \"Quarter To Date\": \"Trimestre até a Data\",\n    \"Receipt Email Addresses\": \"Endereços de e-mail de recebimento\",\n    \"Receipt emails updated successfully.\": \"E-mails de recebimento atualizados com sucesso.\",\n    \"Receipts\": \"Recibos\",\n    \"Recovery Code\": \"Código de Recuperação\",\n    \"Refresh\": \"Atualizar\",\n    \"Regards\": \"Atenciosamente\",\n    \"Regards,\": \"Atenciosamente,\",\n    \"Regenerate Recovery Codes\": \"Gerar novamente os Códigos de Recuperação\",\n    \"Register\": \"Registrar\",\n    \"Reload\": \"Recarregar\",\n    \"Remember me\": \"Lembre-se de mim\",\n    \"Remember Me\": \"Lembre-se de mim\",\n    \"Remove\": \"Remover\",\n    \"Remove Photo\": \"Remover Foto\",\n    \"Remove Team Member\": \"Remover Membro do Time\",\n    \"Replicate\": \"Replicar\",\n    \"Required fields\": \"Campos obrigatórios\",\n    \"Resend Verification Email\": \"Enviar novamente o e-mail de verificação\",\n    \"Reset Filters\": \"Repor os Filtros\",\n    \"Reset Password\": \"Redefinir senha\",\n    \"Reset Password Notification\": \"Notificação de redefinição de senha\",\n    \"resource\": \"recurso\",\n    \"Resource Row Dropdown\": \"Lista suspensa da linha de recursos\",\n    \"Resources\": \"Recursos\",\n    \"resources\": \"recursos\",\n    \"Restore\": \"Restaurar\",\n    \"Restore Resource\": \"Repor o Recurso\",\n    \"Restore Selected\": \"Repor os Selecionados\",\n    \"results\": \"resultados\",\n    \"Resume Subscription\": \"Retomar assinatura\",\n    \"Retry Payment\": \"Tente Novamente o Pagamento\",\n    \"Return to :appName\": \"Voltar para :appName\",\n    \"Reunion\": \"Reunião\",\n    \"Role\": \"Papel\",\n    \"Romania\": \"Romênia\",\n    \"Run Action\": \"Executar a Ação\",\n    \"Russian Federation\": \"Federação Russa\",\n    \"Rwanda\": \"Ruanda\",\n    \"Réunion\": \"Reunião\",\n    \"Saint Barthelemy\": \"São Bartolomeu\",\n    \"Saint Barthélemy\": \"São Bartolomeu\",\n    \"Saint Helena\": \"Santa Helena\",\n    \"Saint Kitts And Nevis\": \"São Cristóvão e Nevis\",\n    \"Saint Kitts and Nevis\": \"São Cristóvão e Nevis\",\n    \"Saint Lucia\": \"Santa Lúcia\",\n    \"Saint Martin\": \"Ilha de São Martinho\",\n    \"Saint Martin (French part)\": \"Ilha de São Martinho (parte francesa)\",\n    \"Saint Pierre And Miquelon\": \"São Pedro e Miquelon\",\n    \"Saint Pierre and Miquelon\": \"São Pedro e Miquelon\",\n    \"Saint Vincent And Grenadines\": \"São Vicente e Granadinas\",\n    \"Saint Vincent and the Grenadines\": \"São Vicente e Granadinas\",\n    \"Samoa\": \"Samoa\",\n    \"San Marino\": \"São Marino\",\n    \"Sao Tome And Principe\": \"São Tomé E Príncipe\",\n    \"Sao Tome and Principe\": \"São Tomé e Príncipe\",\n    \"Saudi Arabia\": \"Arábia Saudita\",\n    \"Save\": \"Salvar\",\n    \"Saved.\": \"Salvo.\",\n    \"Scroll to bottom\": \"Role para baixo\",\n    \"Scroll to top\": \"Role para cima\",\n    \"Search\": \"Pesquisar\",\n    \"Select\": \"Selecionar\",\n    \"Select a different plan\": \"Selecione um plano diferente\",\n    \"Select a log file...\": \"Selecione um arquivo de log...\",\n    \"Select A New Photo\": \"Selecione uma nova foto\",\n    \"Select Action\": \"Selecionar a Ação\",\n    \"Select all\": \"Selecionar Tudo\",\n    \"Select All Dropdown\": \"Selecionar Todas As Listas Suspensas\",\n    \"Select this page\": \"Selecionar esta página\",\n    \"Send Password Reset Link\": \"Enviar link de redefinição de senha\",\n    \"Senegal\": \"Senegal\",\n    \"September\": \"Setembro\",\n    \"Serbia\": \"Sérvia\",\n    \"Server Error\": \"Erro do servidor\",\n    \"Service Unavailable\": \"Serviço indisponível\",\n    \"Set as default\": \"Definir como padrão\",\n    \"Setup Key\": \"Chave de configuração\",\n    \"Seychelles\": \"Seicheles\",\n    \"Show All Fields\": \"Mostrar Todos Os Campos\",\n    \"Show Content\": \"Mostrar o Conteúdo\",\n    \"Show Recovery Codes\": \"Mostrar Códigos de Recuperação\",\n    \"Showing\": \"Mostrando\",\n    \"Sierra Leone\": \"Serra Leoa\",\n    \"Signed in as\": \"Logado como\",\n    \"Singapore\": \"Singapura\",\n    \"Sint Maarten (Dutch part)\": \"Ilha de São Martinho (Parte holandesa)\",\n    \"SKU\": \"SKU\",\n    \"Slovakia\": \"Eslováquia\",\n    \"Slovenia\": \"Eslovênia\",\n    \"Soft Deleted\": \"Excluído temporariamente\",\n    \"Solomon Islands\": \"Ilhas Salomão\",\n    \"Somalia\": \"Somália\",\n    \"Something went wrong.\": \"Algo errado ocorreu.\",\n    \"Sorry! You are not authorized to perform this action.\": \"Desculpe! Você não está autorizado a realizar esta ação.\",\n    \"Sorry, your session has expired.\": \"Desculpe, a sua sessão expirou.\",\n    \"South Africa\": \"África do Sul\",\n    \"South Georgia And Sandwich Isl.\": \"Ilhas Geórgia do Sul e Sandwich do Sul\",\n    \"South Georgia and the South Sandwich Islands\": \"Ilhas Geórgia do Sul e Sandwich do Sul\",\n    \"South Sudan\": \"Sudão do Sul\",\n    \"Spain\": \"Espanha\",\n    \"Sri Lanka\": \"Sri Lanka\",\n    \"Standalone Actions\": \"Ações independentes\",\n    \"Start Polling\": \"Iniciar a Votação\",\n    \"Start polling\": \"Iniciar a votação\",\n    \"State / County\": \"Estado / Condado\",\n    \"Stop Impersonating\": \"Parar de personificar\",\n    \"Stop Polling\": \"Parar a Votação\",\n    \"Stop polling\": \"Parar a votação\",\n    \"Store these recovery codes in a secure password manager. They can be used to recover access to your account if your two factor authentication device is lost.\": \"Guarde estes códigos de recuperação em um gerenciador de senhas seguro. Eles podem ser usados para recuperar o acesso à sua conta se o dispositivo de autenticação em dois fatores for perdido.\",\n    \"Subscribe\": \"Assinar\",\n    \"Subscription Information\": \"Informações de Assinatura\",\n    \"Subscription Pending\": \"Assinatura Pendente\",\n    \"Sudan\": \"Sudão\",\n    \"Suriname\": \"Suriname\",\n    \"Svalbard And Jan Mayen\": \"Svalbard e Jan Mayen\",\n    \"Svalbard and Jan Mayen\": \"Svalbard e Jan Mayen\",\n    \"Swaziland\": \"Suazilândia\",\n    \"Sweden\": \"Suécia\",\n    \"Switch Teams\": \"Mudar de Time\",\n    \"Switzerland\": \"Suíça\",\n    \"Syrian Arab Republic\": \"República Árabe Síria\",\n    \"System\": \"Sistema\",\n    \"Taiwan\": \"Taiwan\",\n    \"Taiwan, Province of China\": \"Taiwan, Província chinesa\",\n    \"Tajikistan\": \"Tajiquistão\",\n    \"Tanzania\": \"Tanzânia\",\n    \"Tanzania, United Republic of\": \"República Unida da Tanzânia\",\n    \"TAX\": \"IMPOSTO\",\n    \"Team Details\": \"Detalhes do Time\",\n    \"Team Invitation\": \"Convite de Time\",\n    \"Team Members\": \"Membros do Time\",\n    \"Team Name\": \"Nome do Time\",\n    \"Team Owner\": \"Dono do Time\",\n    \"Team Settings\": \"Configurações do Time\",\n    \"Terms of Service\": \"Termos de Serviço\",\n    \"Thailand\": \"Tailândia\",\n    \"Thanks for signing up! Before getting started, could you verify your email address by clicking on the link we just emailed to you? If you didn't receive the email, we will gladly send you another.\": \"Obrigado por se registar! Antes de começar, confirme o seu endereço de e-mail clicando no link presente no e-mail que acabamos de te enviar? Caso não tenha recebido o email, teremos o maior prazer em reenviar-lhe outro.\",\n    \"Thanks for your continued support. We've attached a copy of your invoice for your records. Please let us know if you have any questions or concerns.\": \"Obrigado por seu apoio contínuo. Anexamos uma cópia de sua fatura para seus registros. Por favor, deixe-nos saber se você tiver alguma dúvida ou preocupação.\",\n    \"Thanks,\": \"Obrigado,\",\n    \"The :attribute must be a valid role.\": \":Attribute deve ser um papel válido.\",\n    \"The :attribute must be at least :length characters and contain at least one number.\": \"O campo :attribute deve possuir no mínimo :length caracteres e conter pelo menos um número.\",\n    \"The :attribute must be at least :length characters and contain at least one special character and one number.\": \"Os :attribute devem ter, pelo menos, :length caracteres e conter, pelo menos, um carácter especial e um número.\",\n    \"The :attribute must be at least :length characters and contain at least one special character.\": \"O campo :attribute deve possuir no mínimo :length caracteres e conter pelo menos um caractere especial.\",\n    \"The :attribute must be at least :length characters and contain at least one uppercase character and one number.\": \"O campo :attribute deve possuir no mínimo :length caracteres e conter pelo menos uma letra maiúscula e um número.\",\n    \"The :attribute must be at least :length characters and contain at least one uppercase character and one special character.\": \"O campo :attribute deve possuir no mínimo :length caracteres e conter pelo menos uma letra maiúscula e um caractere especial.\",\n    \"The :attribute must be at least :length characters and contain at least one uppercase character, one number, and one special character.\": \"O campo :attribute deve possuir no mínimo :length caracteres e conter pelo menos uma letra maiúscula, um número, e um caractere especial.\",\n    \"The :attribute must be at least :length characters and contain at least one uppercase character.\": \"O campo :attribute deve possuir no mínimo :length caracteres e conter pelo menos uma letra maiúscula.\",\n    \"The :attribute must be at least :length characters.\": \"O campo :attribute deve possuir no mínimo :length caracteres.\",\n    \"The :attribute must contain at least one letter.\": \"O campo :attribute deve conter pelo menos uma letra\",\n    \"The :attribute must contain at least one number.\": \"O campo :attribute deve conter pelo menos um número.\",\n    \"The :attribute must contain at least one symbol.\": \"O campo :attribute deve conter pelo menos um símbolo.\",\n    \"The :attribute must contain at least one uppercase and one lowercase letter.\": \"O campo :attribute deve conter pelo menos uma letra maiúscula e uma minúscula.\",\n    \"The :resource was created!\": \"O :resource foi criado!\",\n    \"The :resource was deleted!\": \"O :resource foi excluido!\",\n    \"The :resource was restored!\": \"O :resource foi restaurado!\",\n    \"The :resource was updated!\": \"O :resource foi atualizado!\",\n    \"The action was executed successfully.\": \"A ação foi executada com sucesso.\",\n    \"The default payment method cannot be removed.\": \"O método de pagamento padrão não pode ser removido.\",\n    \"The file was deleted!\": \"O arquivo foi excluido!\",\n    \"The given :attribute has appeared in a data leak. Please choose a different :attribute.\": \"O :attribute informado apareceu em um vazamento de dados. Por favor escolha uma :attribute diferente.\",\n    \"The given data was invalid.\": \"Os dados fornecidos eram inválidos.\",\n    \"The government won't let us show you what's behind these doors\": \"O governo não nos deixa mostrar-lhe o que está atrás destas portas.\",\n    \"The HasOne relationship has already been filled.\": \"A relação HasOne já foi preenchida.\",\n    \"The image could not be loaded\": \"A imagem não pôde ser carregada\",\n    \"The image could not be loaded.\": \"A imagem não pôde ser carregada.\",\n    \"The password is incorrect.\": \"A senha está incorreta.\",\n    \"The provided coupon code is invalid.\": \"O código de cupom fornecido é inválido.\",\n    \"The provided password does not match your current password.\": \"A senha informada não corresponde à sua senha atual.\",\n    \"The provided password was incorrect.\": \"A senha informada está incorreta.\",\n    \"The provided two factor authentication code was invalid.\": \"O código de autenticação em dois fatores informado não é válido.\",\n    \"The provided two factor recovery code was invalid.\": \"O código de recuperação de dois fatores fornecido era inválido.\",\n    \"The provided VAT number is invalid.\": \"O número de VAT fornecido é inválido.\",\n    \"The receipt emails must be valid email addresses.\": \"Os e-mails de recibo devem ser endereços de e-mail válidos.\",\n    \"The resource was attached!\": \"O recurso foi anexado!\",\n    \"The resource was prevented from being saved!\": \"O recurso foi impedido de ser salvo!\",\n    \"The resource was updated!\": \"O recurso foi atualizado!\",\n    \"The response is not a streamed response.\": \"A resposta não é uma resposta transmitida.\",\n    \"The response is not a view.\": \"A resposta não é uma visualização.\",\n    \"The selected country is invalid.\": \"O país selecionado é inválido.\",\n    \"The selected plan is invalid.\": \"O plano selecionado é inválido.\",\n    \"The team's name and owner information.\": \"Nome do time e informações do dono.\",\n    \"There are no available options for this resource.\": \"Não existem opções disponíveis para este recurso.\",\n    \"There are no fields to display.\": \"Não há campos para exibir.\",\n    \"There are no new notifications.\": \"Não há novas notificações.\",\n    \"There was a problem executing the action.\": \"Houve um problema em executar a ação.\",\n    \"There was a problem fetching the resource.\": \"Houve um problema ao buscar o recurso.\",\n    \"There was a problem submitting the form.\": \"Houve um problema ao enviar o formulário.\",\n    \"These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation.\": \"Estas pessoas foram convidadas para a sua equipa e receberam um convite por e-mail. Eles podem se juntar ao time aceitando o convite por e-mail.\",\n    \"This account does not have an active subscription.\": \"Esta conta não tem uma assinatura ativa.\",\n    \"This action is unauthorized.\": \"Esta ação não é autorizada.\",\n    \"This copy of Nova is unlicensed.\": \"Esta cópia do Nova não é licenciada.\",\n    \"This coupon code can only be used by new customers.\": \"Este código de cupom só pode ser usado por novos clientes.\",\n    \"This device\": \"Este dispositivo\",\n    \"This file field is read-only.\": \"Este campo de arquivo é apenas para leitura.\",\n    \"This invoice is no longer open.\": \"Essa fatura não está mais aberta.\",\n    \"This is a secure area of the application. Please confirm your password before continuing.\": \"Esta é uma área segura da aplicação. Por favor, confirme a sua senha antes de continuar.\",\n    \"This password does not match our records.\": \"Esta senha não corresponde aos nossos registros.\",\n    \"This password reset link will expire in :count minutes.\": \"O link de redefinição de senha irá expirar em :count minutos.\",\n    \"This resource no longer exists\": \"Este recurso já não existe\",\n    \"This subscription has expired and cannot be resumed. Please create a new subscription.\": \"Esta assinatura expirou e não pode ser retomada. Por favor, crie uma nova assinatura.\",\n    \"This user already belongs to the team.\": \"Este usuário já pertence a um time.\",\n    \"This user has already been invited to the team.\": \"Este usuário já foi convidado para o time.\",\n    \"Timor-Leste\": \"Timor-Leste\",\n    \"to\": \"até\",\n    \"To\": \"Até\",\n    \"To finish enabling two factor authentication, scan the following QR code using your phone's authenticator application or enter the setup key and provide the generated OTP code.\": \"Para concluir a ativação da autenticação de dois fatores, digitalize o código QR a seguir usando o aplicativo autenticador do seu telefone ou insira a chave de configuração e forneça o código OTP gerado.\",\n    \"Today\": \"Hoje\",\n    \"Toggle navigation\": \"Alternar navegação\",\n    \"Togo\": \"Togo\",\n    \"Tokelau\": \"Toquelau\",\n    \"Token Name\": \"Nome do Token\",\n    \"Tonga\": \"Tonga\",\n    \"Too Many Requests\": \"Muitas solicitações\",\n    \"total\": \"total\",\n    \"Total:\": \"Total:\",\n    \"Trashed\": \"Destruído\",\n    \"Trinidad And Tobago\": \"Trindade e Tobago\",\n    \"Trinidad and Tobago\": \"Trindade e Tobago\",\n    \"Tunisia\": \"Tunísia\",\n    \"Turkey\": \"Turquia\",\n    \"Turkmenistan\": \"Turcomenistão\",\n    \"Turks And Caicos Islands\": \"Ilhas Turcas e Caicos\",\n    \"Turks and Caicos Islands\": \"Ilhas Turcas e Caicos\",\n    \"Tuvalu\": \"Tuvalu\",\n    \"Two Factor Authentication\": \"Autenticação em dois fatores\",\n    \"Two factor authentication is now enabled. Scan the following QR code using your phone's authenticator application or enter the setup key.\": \"A autenticação de dois fatores agora está habilitada. Digitalize o código QR a seguir usando o aplicativo autenticador do seu telefone ou digite a chave de configuração.\",\n    \"Type\": \"Tipo\",\n    \"Uganda\": \"Uganda\",\n    \"Ukraine\": \"Ucrânia\",\n    \"Unauthorized\": \"Não autorizado\",\n    \"United Arab Emirates\": \"Emirados Árabes Unidos\",\n    \"United Kingdom\": \"Reino Unido\",\n    \"United States\": \"Estados Unidos\",\n    \"United States Minor Outlying Islands\": \"Ilhas Menores Distantes dos Estados Unidos\",\n    \"United States Outlying Islands\": \"Ilhas Distantes dos Estados Unidos\",\n    \"Unknown\": \"Desconhecido\",\n    \"Unpaid\": \"Não Pago\",\n    \"Update\": \"Atualizar\",\n    \"Update & Continue Editing\": \"Atualizar e Continuar a Edição\",\n    \"Update :resource\": \"Atualizar :resource\",\n    \"Update :resource: :title\": \"Atualizar :resource: :title\",\n    \"Update attached :resource: :title\": \"Atualizar anexo :resource: :title\",\n    \"Update Password\": \"Atualizar senha\",\n    \"Update Payment Information\": \"Atualizar informações de pagamento\",\n    \"Update Payment Method\": \"Atualizar forma de pagamento\",\n    \"Update your account's profile information and email address.\": \"Atualize as informações do seu perfil e endereço de e-mail.\",\n    \"Uploading\": \"Enviando\",\n    \"Uploading files... (:current/:total)\": \"Carregando arquivos... (:current/:total)\",\n    \"Uruguay\": \"Uruguai\",\n    \"Use a recovery code\": \"Use um código de recuperação\",\n    \"Use an authentication code\": \"Use um código de autenticação\",\n    \"User Actions\": \"Ações do usuário\",\n    \"Uzbekistan\": \"Uzbequistão\",\n    \"Value\": \"Valor\",\n    \"Vanuatu\": \"Vanuatu\",\n    \"VAT Number\": \"Numero do VAT\",\n    \"Venezuela\": \"Venezuela\",\n    \"Venezuela, Bolivarian Republic of\": \"República Bolivariana da Venezuela\",\n    \"Verify Email Address\": \"Verifique o endereço de e-mail\",\n    \"Verify Your Email Address\": \"Verifique seu endereço de e-mail\",\n    \"Viet Nam\": \"Vietnam\",\n    \"View\": \"Visualizar\",\n    \"Virgin Islands, British\": \"Ilhas Virgens Britânicas\",\n    \"Virgin Islands, U.S.\": \"Ilhas Virgens Americanas\",\n    \"Visits\": \"Visitas\",\n    \"Wallis And Futuna\": \"Wallis e Futuna\",\n    \"Wallis and Futuna\": \"Wallis e Futuna\",\n    \"We are processing your subscription. Once the subscription has successfully processed, this page will update automatically. Typically, this process should only take a few seconds.\": \"Estamos processando sua assinatura. Assim que a assinatura for processada com sucesso, esta página será atualizada automaticamente. Normalmente, esse processo deve levar apenas alguns segundos.\",\n    \"We are unable to process your payment. Please contact customer support.\": \"Não podemos processar seu pagamento. Entre em contato com o suporte ao cliente.\",\n    \"We have emailed your password reset link!\": \"Enviamos o link de redefinição de senha por e-mail!\",\n    \"We were unable to find a registered user with this email address.\": \"Não pudemos encontrar um usuário com esse endereço de e-mail.\",\n    \"We will send a receipt download link to the email addresses that you specify below. You may separate multiple email addresses using commas.\": \"Enviaremos um link de download do recibo para os endereços de e-mail que você especificar abaixo. Você pode separar vários endereços de e-mail usando vírgulas.\",\n    \"We're lost in space. The page you were trying to view does not exist.\": \"Estamos perdidos no espaço. A página que você estava tentando ver não existe.\",\n    \"Welcome Back!\": \"Bem-vindo de Volta!\",\n    \"Western Sahara\": \"Saara Ocidental\",\n    \"When two factor authentication is enabled, you will be prompted for a secure, random token during authentication. You may retrieve this token from your phone's Google Authenticator application.\": \"Quando a autenticação em dois fatores está ativa, um token seguro e aleatório será solicitado durante a autenticação. Você deve obter este token em seu aplicativo Google Authenticator em seu telefone.\",\n    \"Whoops\": \"Ops\",\n    \"Whoops!\": \"Ops!\",\n    \"Whoops! Something went wrong.\": \"Ops! Alguma coisa deu errado.\",\n    \"With Trashed\": \"Com Destruídos\",\n    \"Write\": \"Escrever\",\n    \"Year To Date\": \"Ano até a data\",\n    \"Yearly\": \"Anual\",\n    \"Yemen\": \"Iêmen\",\n    \"Yes\": \"Sim\",\n    \"You are already subscribed.\": \"Você já esta inscrito.\",\n    \"You are currently within your free trial period. Your trial will expire on :date.\": \"Você atualmente está no período de teste. Seu teste irá expirar em :date.\",\n    \"You are currently within your free trial period. Your trial will expire on :date. Starting a new subscription will end your trial.\": \"Você atualmente está no período de teste. Seu teste irá expirar em :date. Iniciar uma nova assinatura encerrará sua avaliação.\",\n    \"You are logged in!\": \"Você está logado!\",\n    \"You are receiving this email because we received a password reset request for your account.\": \"Você recebeu esse e-mail porque foi solicitado uma redefinição de senha na sua conta.\",\n    \"You have been invited to join the :team team!\": \"Foi convidado para se juntar ao time :team!\",\n    \"You have enabled two factor authentication.\": \"Você ativou a autenticação em dois fatores.\",\n    \"You have not enabled two factor authentication.\": \"Você não ativou a autenticação em dois fatores.\",\n    \"You have some unpaid invoices. After updating your default payment method, you may retry the payments via the invoice list below.\": \"Você tem algumas faturas não pagas. Depois de atualizar seu método de pagamento padrão, você pode tentar novamente os pagamentos por meio da lista de faturas abaixo.\",\n    \"You may accept this invitation by clicking the button below:\": \"Você pode aceitar o convite clicando no botão abaixo:\",\n    \"You may cancel your subscription at any time. Once your subscription has been cancelled, you will have the option to resume the subscription until the end of your current billing cycle.\": \"Você pode cancelar sua assinatura a qualquer momento. Assim que sua assinatura for cancelada, você terá a opção de retomá-la até o final do seu ciclo de faturamento atual.\",\n    \"You may delete any of your existing tokens if they are no longer needed.\": \"Você pode excluir seus tokens existentes se eles não forem mais necessários.\",\n    \"You may not delete your personal team.\": \"Você não pode excluir o seu time pessoal.\",\n    \"You may not leave a team that you created.\": \"Você não pode sair de um time que você criou.\",\n    \"You will receive an invoice and payment link via email for each billing period.\": \"Você receberá uma fatura e um link de pagamento por e-mail para cada período de cobrança.\",\n    \"You're logged in!\": \"Você está logado!\",\n    \"Your :invoiceName invoice is now available!\": \"Sua fatura :invoiceName já está disponível!\",\n    \"Your billing address is :address :address2 :postal_code :city :state :country\": \"Seu endereço de cobrança é :address :address2 :postal_code :city :state :country\",\n    \"Your card was declined. Please contact your card issuer for more information.\": \"Seu cartão foi recusado. Entre em contato com o emissor do cartão para obter mais informações.\",\n    \"Your current payment method is a credit card ending in :lastFour that expires on :expiration.\": \"Seu método de pagamento atual é um cartão de crédito com final :lastFour que expira em :expiration.\",\n    \"Your email address is unverified.\": \"Seu endereço de e-mail não foi verificado.\",\n    \"Your last payment of :amount failed. Please update your payment method to retry the failed payment.\": \"Your last payment of :amount failed. Please update your payment method to retry the failed payment.\",\n    \"Your last payment of :amount on :date failed. Please update your payment method to retry the failed payment.\": \"Seu último pagamento de :amount em :date falhou. Atualize sua forma de pagamento para tentar novamente o pagamento com falha.\",\n    \"Your next payment of :amount will be processed on :date.\": \"Seu próximo pagamento de :amount será em :date.\",\n    \"Your payment method has been added successfully.\": \"Sua forma de pagamento foi adicionada com sucesso.\",\n    \"Your payment method will be charged automatically for each billing period.\": \"Seu método de pagamento será cobrado automaticamente para cada período de cobrança.\",\n    \"Your registered VAT Number is :vatNumber.\": \"Seu número de IVA registrado é  :vatNumber.\",\n    \"Your subscription has been started successfully.\": \"Sua assinatura foi iniciada com sucesso.\",\n    \"Your subscription has been successfully cancelled.\": \"Sua assinatura foi cancelada com sucesso.\",\n    \"Your subscription has been successfully cancelled. You will still have access until the end of your billing period.\": \"Your subscription has been successfully cancelled. You will still have access until the end of your billing period.\",\n    \"Your subscription was successfully resumed.\": \"Sua assinatura foi retomada com sucesso.\",\n    \"Your subscription was successfully updated.\": \"Sua assinatura foi atualizada com sucesso.\",\n    \"Zambia\": \"Zâmbia\",\n    \"Zimbabwe\": \"Zimbábue\",\n    \"Zip / Postal Code\": \"CEP / Código Postal\",\n    \"Åland Islands\": \"Ilhas Aland\"\n}");
        File::createFolder('resources/lang/pt_BR');
        File::createFile('resources/lang/pt_BR', 'auth.php', "<?php\n\nreturn [\n\n    /*\n    |--------------------------------------------------------------------------\n    | Authentication Language Lines\n    |--------------------------------------------------------------------------\n    |\n    | The following language lines are used during authentication for various\n    | messages that we need to display to the user. You are free to modify\n    | these language lines according to your application's requirements.\n    |\n    */\n\n    'failed' => 'Essas credenciais não correspondem aos nossos registros.',\n    'password' => 'A senha fornecida está incorreta.',\n    'throttle' => 'Muitas tentativas de login. Por favor, tente novamente em :seconds segundos.',\n\n];\n");
        File::createFile('resources/lang/pt_BR', 'messages.php', "<?php\n\nreturn [];\n");
        File::createFile('resources/lang/pt_BR', 'pagination.php', "<?php\n\nreturn [\n\n    /*\n    |--------------------------------------------------------------------------\n    | Pagination Language Lines\n    |--------------------------------------------------------------------------\n    |\n    | The following language lines are used by the paginator library to build\n    | the simple pagination links. You are free to change them to anything\n    | you want to customize your views to better match your application.\n    |\n    */\n\n    'previous' => '&laquo; Anterior',\n    'next' => 'Próximo &raquo;',\n\n];\n");
        File::createFile('resources/lang/pt_BR', 'passwords.php', "<?php\n\nreturn [\n\n    /*\n    |--------------------------------------------------------------------------\n    | Password Reset Language Lines\n    |--------------------------------------------------------------------------\n    |\n    | The following language lines are the default lines which match reasons\n    | that are given by the password broker for a password update attempt\n    | outcome such as failure due to an invalid password / reset token.\n    |\n    */\n\n    'reset' => 'Sua senha foi redefinida.',\n    'sent' => 'Enviamos por e-mail o link para redefinição de senha.',\n    'throttled' => 'Por favor, aguarde antes de tentar novamente.',\n    'token' => 'Este token de redefinição de senha é inválido.',\n    'user' => 'Não conseguimos encontrar um usuário com esse endereço de e-mail.',\n\n];\n");
        File::createFile('resources/lang/pt_BR', 'validation.php', "<?php\n\nreturn [\n\n    /*\n    |--------------------------------------------------------------------------\n    | Validation Language Lines\n    |--------------------------------------------------------------------------\n    |\n    | The following language lines contain the default error messages used by\n    | the validator class. Some of these rules have multiple versions such\n    | as the size rules. Feel free to tweak each of these messages here.\n    |\n    */\n\n    'accepted' => 'O campo :attribute deve ser aceito.',\n    'accepted_if' => 'O campo :attribute deve ser aceito quando :other for :value.',\n    'active_url' => 'O campo :attribute deve ser uma URL válida.',\n    'after' => 'O campo :attribute deve ser uma data posterior a :date.',\n    'after_or_equal' => 'O campo :attribute deve ser uma data posterior ou igual a :date.',\n    'alpha' => 'O campo :attribute deve conter apenas letras.',\n    'alpha_dash' => 'O campo :attribute deve conter apenas letras, números, traços e sublinhados.',\n    'alpha_num' => 'O campo :attribute deve conter apenas letras e números.',\n    'array' => 'O campo :attribute deve ser um array.',\n    'ascii' => 'O campo :attribute deve conter apenas caracteres e símbolos alfanuméricos de byte único.',\n    'before' => 'O campo :attribute deve ser uma data anterior a :date.',\n    'before_or_equal' => 'O campo :attribute deve ser uma data anterior ou igual a :date.',\n    'between' => [\n        'array' => 'O campo :attribute deve ter entre :min e :max itens.',\n        'file' => 'O campo :attribute deve ter entre :min e :max kilobytes.',\n        'numeric' => 'O campo :attribute deve estar entre :min e :max.',\n        'string' => 'O campo :attribute deve ter entre :min e :max caracteres.',\n    ],\n    'boolean' => 'O campo :attribute deve ser verdadeiro ou falso.',\n    'can' => 'O campo :attribute contém um valor não autorizado.',\n    'confirmed' => 'As duas senhas devem ser iguais.',\n    'contains' => 'O campo :attribute está faltando um valor obrigatório.',\n    'current_password' => 'A senha está incorreta.',\n    'date' => 'O campo :attribute deve ser uma data válida.',\n    'date_equals' => 'O campo :attribute deve ser uma data igual a :date.',\n    'date_format' => 'O campo :attribute deve corresponder ao formato :format.',\n    'decimal' => 'O campo :attribute deve ter :decimal casas decimais.',\n    'declined' => 'O campo :attribute deve ser recusado.',\n    'declined_if' => 'O campo :attribute deve ser recusado quando :other for :value.',\n    'different' => 'O campo :attribute e :other devem ser diferentes.',\n    'digits' => 'O campo :attribute deve ter :digits dígitos.',\n    'digits_between' => 'O campo :attribute deve ter entre :min e :max dígitos.',\n    'dimensions' => 'O campo :attribute possui dimensões de imagem inválidas.',\n    'distinct' => 'O campo :attribute possui um valor duplicado.',\n    'doesnt_end_with' => 'O campo :attribute não deve terminar com um dos seguintes: :values.',\n    'doesnt_start_with' => 'O campo :attribute não deve começar com um dos seguintes: :values.',\n    'email' => 'O campo :attribute deve ser um endereço de e-mail válido.',\n    'ends_with' => 'O campo :attribute deve terminar com um dos seguintes: :values.',\n    'enum' => 'O :attribute selecionado é inválido.',\n    'exists' => 'O :attribute selecionado é inválido.',\n    'extensions' => 'O campo :attribute deve ter uma das seguintes extensões: :values.',\n    'file' => 'O campo :attribute deve ser um arquivo.',\n    'filled' => 'O campo :attribute deve ter um valor.',\n    'gt' => [\n        'array' => 'O campo :attribute deve ter mais de :value itens.',\n        'file' => 'O campo :attribute deve ser maior que :value kilobytes.',\n        'numeric' => 'O campo :attribute deve ser maior que :value.',\n        'string' => 'O campo :attribute deve ser maior que :value caracteres.',\n    ],\n    'gte' => [\n        'array' => 'O campo :attribute deve ter :value itens ou mais.',\n        'file' => 'O campo :attribute deve ser maior ou igual a :value kilobytes.',\n        'numeric' => 'O campo :attribute deve ser maior ou igual a :value.',\n        'string' => 'O campo :attribute deve ser maior ou igual a :value caracteres.',\n    ],\n    'hex_color' => 'O campo :attribute deve ser uma cor hexadecimal válida.',\n    'image' => 'O campo :attribute deve ser uma imagem.',\n    'in' => 'O :attribute selecionado é inválido.',\n    'in_array' => 'O campo :attribute deve existir em :other.',\n    'integer' => 'O campo :attribute deve ser um número inteiro.',\n    'ip' => 'O campo :attribute deve ser um endereço IP válido.',\n    'ipv4' => 'O campo :attribute deve ser um endereço IPv4 válido.',\n    'ipv6' => 'O campo :attribute deve ser um endereço IPv6 válido.',\n    'json' => 'O campo :attribute deve ser uma string JSON válida.',\n    'list' => 'O campo :attribute deve ser uma lista.',\n    'lowercase' => 'O campo :attribute deve estar em minúsculas.',\n    'lt' => [\n        'array' => 'O campo :attribute deve ter menos de :value itens.',\n        'file' => 'O campo :attribute deve ser menor que :value kilobytes.',\n        'numeric' => 'O campo :attribute deve ser menor que :value.',\n        'string' => 'O campo :attribute deve ser menor que :value caracteres.',\n    ],\n    'lte' => [\n        'array' => 'O campo :attribute não deve ter mais de :value itens.',\n        'file' => 'O campo :attribute deve ser menor ou igual a :value kilobytes.',\n        'numeric' => 'O campo :attribute deve ser menor ou igual a :value.',\n        'string' => 'O campo :attribute deve ser menor ou igual a :value caracteres.',\n    ],\n    'mac_address' => 'O campo :attribute deve ser um endereço MAC válido.',\n    'max' => [\n        'array' => 'O campo :attribute não deve ter mais de :max itens.',\n        'file' => 'O campo :attribute não deve ser maior que :max kilobytes.',\n        'numeric' => 'O campo :attribute não deve ser maior que :max.',\n        'string' => 'O campo :attribute não deve ser maior que :max caracteres.',\n    ],\n    'max_digits' => 'O campo :attribute não deve ter mais de :max dígitos.',\n    'mimes' => 'O campo :attribute deve ser um arquivo do tipo: :values.',\n    'mimetypes' => 'O campo :attribute deve ser um arquivo do tipo: :values.',\n    'min' => [\n        'array' => 'O campo :attribute deve ter pelo menos :min itens.',\n        'file' => 'O campo :attribute deve ter pelo menos :min kilobytes.',\n        'numeric' => 'O campo :attribute deve ser pelo menos :min.',\n        'string' => 'O campo deve ter pelo menos :min caracteres.',\n        // 'string' => 'O campo :attribute deve ter pelo menos :min caracteres.',\n    ],\n    'min_digits' => 'O campo :attribute deve ter pelo menos :min dígitos.',\n    'missing' => 'O campo :attribute deve estar ausente.',\n    'missing_if' => 'O campo :attribute deve estar ausente quando :other for :value.',\n    'missing_unless' => 'O campo :attribute deve estar ausente a menos que :other esteja em :values.',\n    'missing_with' => 'O campo :attribute deve estar ausente quando :values estiver presente.',\n    'missing_with_all' => 'O campo :attribute deve estar ausente quando :values estiverem presentes.',\n    'multiple_of' => 'O campo :attribute deve ser um múltiplo de :value.',\n    'not_in' => 'O :attribute selecionado é inválido.',\n    'not_regex' => 'O formato do campo :attribute é inválido.',\n    'numeric' => 'O campo :attribute deve ser um número.',\n    'password' => [\n        'letters' => 'O campo :attribute deve conter pelo menos uma letra.',\n        'mixed' => 'O campo :attribute deve conter pelo menos uma letra maiúscula e uma letra minúscula.',\n        'numbers' => 'O campo :attribute deve conter pelo menos um número.',\n        'symbols' => 'O campo :attribute deve conter pelo menos um símbolo.',\n        'uncompromised' => 'O :attribute fornecido apareceu em uma violação de dados. Por favor, escolha um :attribute diferente.',\n    ],\n    'present' => 'O campo :attribute deve estar presente.',\n    'present_if' => 'O campo :attribute deve estar presente quando :other for :value.',\n    'present_unless' => 'O campo :attribute deve estar presente a menos que :other seja :value.',\n    'present_with' => 'O campo :attribute deve estar presente quando :values estiver presente.',\n    'present_with_all' => 'O campo :attribute deve estar presente quando :values estiverem presentes.',\n    'prohibited' => 'O campo :attribute é proibido.',\n    'prohibited_if' => 'O campo :attribute é proibido quando :other for :value.',\n    'prohibited_unless' => 'O campo :attribute é proibido a menos que :other esteja em :values.',\n\n    'prohibits' => 'O campo :attribute proíbe a presença de :other.',\n    'regex' => 'O formato do campo :attribute é inválido.',\n    'required' => 'O campo acima é obrigatório.',\n    // 'required' => 'O campo :attribute é obrigatório.',\n    'required_array_keys' => 'O campo :attribute deve conter entradas para: :values.',\n    'required_if' => 'O campo :attribute é obrigatório quando :other for :value.',\n    'required_if_accepted' => 'O campo :attribute é obrigatório quando :other for aceito.',\n    'required_if_declined' => 'O campo :attribute é obrigatório quando :other for recusado.',\n    'required_unless' => 'O campo :attribute é obrigatório, a menos que :other esteja em :values.',\n    'required_with' => 'O campo :attribute é obrigatório quando :values estiver presente.',\n    'required_with_all' => 'O campo :attribute é obrigatório quando todos os :values estiverem presentes.',\n    'required_without' => 'O campo :attribute é obrigatório quando :values não estiver presente.',\n    'required_without_all' => 'O campo :attribute é obrigatório quando nenhum dos :values estiver presente.',\n    'same' => 'O campo :attribute e :other devem coincidir.',\n    'size' => [\n        'array' => 'O campo :attribute deve conter :size itens.',\n        'file' => 'O campo :attribute deve ter :size kilobytes.',\n        'numeric' => 'O campo :attribute deve ser :size.',\n        'string' => 'O campo :attribute deve ter :size caracteres.',\n    ],\n    'starts_with' => 'O campo :attribute deve começar com um dos seguintes: :values.',\n    'string' => 'O campo :attribute deve ser uma string.',\n    'timezone' => 'O campo :attribute deve ser um fuso horário válido.',\n    'unique' => 'O campo :attribute já foi utilizado.',\n    'uploaded' => 'Falha no upload do campo :attribute.',\n    'uppercase' => 'O campo :attribute deve estar em maiúsculas.',\n    'url' => 'O campo :attribute deve ser uma URL válida.',\n    'ulid' => 'O campo :attribute deve ser um ULID válido.',\n    'uuid' => 'O campo :attribute deve ser um UUID válido.',\n\n    'custom' => [\n        'attribute-name' => [\n            'rule-name' => 'mensagem-personalizada',\n        ],\n    ],\n\n    'attributes' => [],\n\n];\n");
    }

    static function addFontAwesome()
    {
        echo Message::txtPurpleLight("\nConfiguring Font Awesome...\n\n");

        File::write('resources/css/app.css', "\n\n@media (prefers-color-scheme: dark) {\n    .dark input[type=\"date\"]::-webkit-calendar-picker-indicator {\n        color-scheme: dark;\n    }\n}", FILE_APPEND);
        File::replace('/fonts.bunny.net">/', "fonts.bunny.net\">\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\" rel=\"stylesheet\">", 'resources/views/app.blade.php');
    }

    static function dockerFiles()
    {
        echo Message::txtPurpleLight("Creating Docker Files...\n\n");

        // DB_HOST=host.docker.internal
        File::write('docker-compose.yml', "networks:\n  default:\n    driver: bridge\n\n# volumes:\n#   database:\n#     driver: local\n\nservices:\n  composer:\n    image: composer\n    command: install\n    user: 1000:1000\n    volumes:\n      - ./:/app\n  app:\n    build:\n      context: ./\n      dockerfile: docker/app/Dockerfile\n    working_dir: /var/www\n    volumes:\n      - ./:/var/www\n    command: php artisan serve --host=0.0.0.0 --port=8000\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      # - db\n      - composer\n    networks:\n      - default\n  # db:\n  #   image: \"mysql:8.0\"\n  #   restart: no\n  #   ports:\n  #     - 3306:3306\n  #   environment:\n  #     MYSQL_ROOT_PASSWORD: root\n  #     MYSQL_DATABASE: \${DB_DATABASE}\n  #     MYSQL_USER: \${DB_USERNAME}\n  #     MYSQL_PASSWORD: \${DB_PASSWORD}\n  #   volumes:\n  #     - database:/var/lib/mysql\n  #   env_file:\n  #     - ./.env\n  #   networks:\n  #     - default\n  node:\n    build:\n      context: ./\n      dockerfile: docker/node/Dockerfile\n    working_dir: /usr/src/app\n    command: npm run dev\n    user: 1000:1000\n    volumes:\n      - ./:/usr/src/app\n      - /usr/src/app/node_modules\n    ports:\n      - \"5173:5173\"\n    networks:\n      - default\n");
        File::createFolder('docker/app');
        File::createFile('docker/app/', 'Dockerfile', "FROM php:8.2-fpm\n\nRUN apt-get update && apt-get install -y \\n    libpng-dev \\n    libjpeg-dev \\n    libfreetype6-dev \\n    libzip-dev \\n    git \\n    unzip \\n    && docker-php-ext-configure gd --with-freetype --with-jpeg \\n    && docker-php-ext-install gd zip pdo pdo_mysql\n\nCOPY --from=composer:latest /usr/bin/composer /usr/bin/composer\n\nWORKDIR /var/www\n\nCOPY . .\n\nRUN composer install --optimize-autoloader\n\nEXPOSE 9000\n\nCMD [\"php-fpm\"]\n");
        File::createFolder('docker/node');
        File::createFile('docker/node/', 'Dockerfile', "FROM node:alpine\n\nRUN mkdir -p /usr/src/app\nRUN mkdir -p /usr/src/app/node_modules\nWORKDIR /usr/src/app\n\nCOPY ./package.json /usr/src/app/\nRUN npm install\nRUN chmod -R 777 /usr/src/app/node_modules/");
    }

    static function eslintAndPrettier()
    {
        $option = Inputs::decisions("Install Eslint And Prettier", true, ['Prettier', 'Eslint', 'Both', 'Neither']);

        switch ($option) {
            case 0:
                self::prettier();
                break;
            case 1:
                self::eslint();
                break;
            case 2:
                self::eslint();
                self::prettier();
                break;
        }
    }

    static function prettier()
    {
        echo Message::txtPurpleLight("\nConfiguring Prettier...\n\n");

        Loader::start('pnpm install --save-dev prettier', 5);
        File::write('.prettierrc', "{\n    \"semi\": true,\n    \"singleQuote\": true,\n    \"tabWidth\": 4,\n    \"useTabs\": false,\n    \"trailingComma\": \"es5\",\n    \"printWidth\": 100,\n    \"htmlWhitespaceSensitivity\": \"ignore\"\n}\n");

        $package = File::read_json('package.json');
        $package->scripts->format = "prettier --write \"resources/js/**/*.{js,vue}\"";
        File::write_json('package.json', $package);
    }

    static function eslint()
    {
        echo Message::txtPurpleLight("\nConfiguring Eslint...\n\n");

        Loader::start('pnpm install --save-dev eslint eslint-plugin-vue eslint-plugin-prettier eslint-config-prettier vite-plugin-eslint', 5);
        File::write('.eslintrc.js', "module.exports = {\n    env: {\n        browser: true,\n        es2021: true,\n        node: true,\n    },\n    extends: [\n        'eslint:recommended',\n        'plugin:vue/vue3-recommended',\n        'prettier',\n    ],\n    parserOptions: {\n        ecmaVersion: 'latest',\n        sourceType: 'module',\n    },\n    plugins: [\n        'vue',\n        'prettier',\n    ],\n    rules: {\n        'prettier/prettier': 'error',\n    },\n};\n");

        $package = File::read_json('package.json');
        $package->scripts->lint = "eslint --ext .js,.vue resources/js";
        $package->scripts->{'lint:fix'} = "eslint --fix --ext .js,.vue resources/js";
        File::write_json('package.json', $package);
        File::replace('/vue\({/', "eslintPlugin(),\n        vue({", 'vite.config.js');
        File::replace('/\/plugin-vue\';/', "/plugin-vue';\nimport eslintPlugin from 'vite-plugin-eslint';", 'vite.config.js');
    }

    static function exceptionAndLog()
    {
        echo Message::txtPurpleLight("Adding Exception and Log Files...\n\n");

        File::createFile('resources/views/errors', 'minimal.blade.php', "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>Error Page</title>\n    <style>\n        html{line-height: 1.15;-webkit-text-size-adjust: 100% font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;line-height: 1.5}body {margin: 0}[hidden] {display: none}*,:after,:before {box-sizing: border-box;border: 0 solid #e2e8f0}.bg-gray-100 {--bg-opacity: 1;background-color: #f7fafc;background-color: rgba(247, 250, 252, var(--bg-opacity))}.border-gray-400 {--border-opacity: 1;border-color: #cbd5e0;border-color: rgba(203, 213, 224, var(--border-opacity))}.border-r {border-right-width: 1px}.flex {display: flex}.items-center {align-items: center}.justify-center {justify-content: center}.text-lg {font-size: 1.125rem}.mx-auto {margin-left: auto;margin-right: auto}.ml-4 {margin-left: 1rem}.max-w-xl {max-width: 36rem}.min-h-screen {min-height: 100vh}.px-4 {padding-left: 1rem;padding-right: 1rem}.px-6 {padding-left: 1.5rem;padding-right: 1.5rem}.pt-8 {padding-top: 2rem}.relative {position: relative}.text-gray-500 {--text-opacity: 1;color: #a0aec0;color: rgba(160, 174, 192, var(--text-opacity))}.uppercase {text-transform: uppercase}.antialiased {-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale}.tracking-wider {letter-spacing: .05em}@media (min-width:640px) {.sm\:items-center {align-items: center}.sm\:justify-start {justify-content: flex-start}.sm\:px-6 {padding-left: 1.5rem;padding-right: 1.5rem}.sm\:pt-0 {padding-top: 0}}@media (min-width:1024px) {.lg\:px-8 {padding-left: 2rem;padding-right: 2rem}}@media (prefers-color-scheme:dark) {.dark\:bg-gray-900 {--bg-opacity: 1;background-color: #1a202c;background-color: rgba(26, 32, 44, var(--bg-opacity))}}\n        body{font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";}\n    </style>\n</head>\n\n<body class=\"antialiased\">\n    <div\n        class=\"relative flex items-top justify-center min-h-screen bg-gray-100 dark:bg-gray-900 sm:items-center sm:pt-0\">\n        <div class=\"max-w-xl mx-auto sm:px-6 lg:px-8\">\n            <div class=\"flex items-center pt-8 sm:justify-start sm:pt-0\">\n                <div class=\"px-4 text-lg text-gray-500 border-r border-gray-400 tracking-wider\">\n                    {{ \$error->getCode() ?? null }}\n                    @yield('code')\n                </div>\n\n                <div class=\"ml-4 text-lg text-gray-500 uppercase tracking-wider\">\n                    {{ \$message ?? null }}\n                    @yield('message')\n                </div>\n            </div>\n        </div>\n    </div>\n</body>\n\n</html>\n");
        File::replace('/Middleware;/', "Middleware;\nuse App\Exceptions\SystemException;", 'bootstrap/app.php');
        File::replace('/\$exceptions\) {/', "\$exceptions) {\n        \$exceptions->render(function (Throwable \$exception) {\n            return (new SystemException())->render(\$exception);\n        });", 'bootstrap/app.php');
        File::createFile('app/Exceptions', 'SystemException.php', "<?php\n\nnamespace App\Exceptions;\n\nuse Exception;\nuse Illuminate\Support\Facades\Log;\nuse PDOException;\nuse Throwable;\n\nclass SystemException extends Exception\n{\n    /**\n     * Report or log an exception.\n     *\n     * @param  \Throwable  \$exception\n     * @return void\n     */\n    public function report(Throwable \$exception)\n    {\n        Log::channel('error')->error(\$exception->getMessage());\n    }\n\n    /**\n     * Render an exception into an HTTP response.\n     *\n     * @param  \Throwable  \$exception\n     * @return \Illuminate\Http\Response\n     */\n    public function render(Throwable \$exception)\n    {\n        \$this->report(\$exception);\n\n        if (config('app.debug')) {\n            return false;\n        }\n\n        \$message = match (true) {\n            \$exception instanceof PDOException => 'Erro ao conectar ao banco de dados.',\n            default => \$exception->getMessage(),\n        };\n\n        return response()->view('errors.minimal', ['error' => \$exception, 'message' => \$message]);\n    }\n}\n");
        File::replace('/laravel.log\'\),\n        ],/', "laravel.log'),\n        ],\n\n        'error' => [\n            'driver' => 'single',\n            'path' => storage_path('app/public/logs/' . date('Y_m_d') . '_errors.log'),\n            'level'  => 'debug',\n        ],", 'config/logging.php');
    }

    static function crudPermissions()
    {
        echo Message::txtPurpleLight("\nCreating Permissions Files...\n\n");

        File::createFile('app/Models', 'Permission.php', "<?php\n\nnamespace App\Models;\n\nuse Illuminate\Database\Eloquent\Collection;\nuse Illuminate\Database\Eloquent\Factories\HasFactory;\nuse Illuminate\Database\Eloquent\Model;\nuse Illuminate\Support\Facades\Cache;\n\nclass Permission extends Model\n{\n    use HasFactory;\n\n    protected \$guarded = [];\n\n    /**\n     * Get Permissions\n     *\n     * @return Permission\n     */\n    public static function getPermission(string \$permission): Permission\n    {\n        \$_permission = self::getAllFromCache()->where('permission', \$permission)->first();\n\n        if (!\$_permission) {\n            \$_permission = Permission::create(['permission' => \$permission]);\n        }\n\n        return \$_permission;\n    }\n\n    public static function getAllFromCache(): Collection\n    {\n        /** @var Collection \$permissions */\n        \$permissions = Cache::rememberForever(\n            'permissions',\n            fn() => self::all()\n        );\n\n        return \$permissions;\n    }\n\n    public static function existOnCache(string \$permission): bool\n    {\n        return self::getAllFromCache()->where('permission', \$permission)->isNotEmpty();\n    }\n}\n");
        File::createFile('database/migrations', date('Y_m_d_His') . '_create_permissions_table.php', "<?php\n\nuse App\Models\Permission;\nuse App\Models\User;\nuse Illuminate\Database\Migrations\Migration;\nuse Illuminate\Database\Schema\Blueprint;\nuse Illuminate\Support\Facades\Schema;\n\nreturn new class extends Migration\n{\n    /**\n     * Run the migrations.\n     */\n    public function up(): void\n    {\n        Schema::create('permissions', function (Blueprint \$table) {\n            \$table->id();\n            \$table->string('permission');\n            \$table->timestamps();\n        });\n\n        Schema::create('permission_user', function (Blueprint \$table) {\n            \$table->foreignIdFor(Permission::class);\n            \$table->foreignIdFor(User::class);\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     */\n    public function down(): void\n    {\n        Schema::dropIfExists('permissions');\n        Schema::dropIfExists('permission_user');\n    }\n};\n");
        File::createFile('database/migrations', date('Y_m_d_His') . '_create_group_permissions_table.php', "<?php\n\nuse App\Models\Permission;\nuse App\Models\User;\nuse Illuminate\Database\Migrations\Migration;\nuse Illuminate\Database\Schema\Blueprint;\nuse Illuminate\Support\Facades\Schema;\n\nreturn new class extends Migration\n{\n    /**\n     * Run the migrations.\n     */\n    public function up(): void\n    {\n        Schema::create('permissions', function (Blueprint \$table) {\n            \$table->id();\n            \$table->string('permission');\n            \$table->timestamps();\n        });\n\n        Schema::create('permission_user', function (Blueprint \$table) {\n            \$table->foreignIdFor(Permission::class);\n            \$table->foreignIdFor(User::class);\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     */\n    public function down(): void\n    {\n        Schema::dropIfExists('permissions');\n        Schema::dropIfExists('permission_user');\n    }\n};\n");
        File::createFile('tests/Unit', 'PermissionUserTest.php', "<?php\n\nnamespace Tests\Feature;\n\nuse App\Http\Controllers\UserController;\nuse App\Models\Permission;\nuse App\Models\User;\nuse Illuminate\Foundation\Testing\DatabaseTransactions;\nuse Illuminate\Support\Facades\Cache;\nuse Illuminate\Support\Facades\Route;\nuse Tests\TestCase;\nuse PHPUnit\Framework\Attributes\Test;\n\nclass PermissionUserTest extends TestCase\n{\n    use DatabaseTransactions;\n\n    #[Test]\n    /**\n     * @test\n     */\n    public function is_should_be_able_to_give_permission_to_an_user(): void\n    {\n        /** @var User \$user */\n        \$user = User::factory()->createOne();\n\n        \$user->givePermissionTo('edit:users');\n\n        \$this->assertTrue(\$user->hasPermissionTo('edit:users'));\n        \$this->assertDatabaseHas('permissions', [\n            'permission' => 'edit:users',\n        ]);\n    }\n\n    #[Test]\n    /**\n     * @test\n     */\n    public function is_should_be_able_to_authorize_access_to_a_route_with_middleware(): void\n    {\n        Route::get('test/users/edit', fn()  => 'ok')\n            ->middleware('permission:edit:users');\n\n        /** @var User \$user */\n        \$user = User::factory()->createOne();\n\n        \$this->actingAs(\$user)\n            ->get('test/users/edit')\n            ->assertForbidden();\n\n        \$user->givePermissionTo('edit:users');\n        \$this->actingAs(\$user)\n            ->get('test/users/edit')\n            ->assertSuccessful();\n    }\n\n    #[Test]\n    /**\n     * @test\n     */\n    public function it_should_be_able_to_use_policy_with_my_permissions(): void\n    {\n        /** @var User \$user */\n        \$user = User::factory()->createOne();\n        \$_user = User::factory()->createOne();\n\n        Route::delete('test/users/{id}', [UserController::class, 'destroy']);\n\n        \$this->actingAs(\$user)\n            ->delete(\"test/users/{\$_user->id}\")\n            ->assertForbidden();\n\n        \$this->actingAs(\$user)\n            ->delete(\"test/users/{\$user->id}\")\n            ->assertSuccessful();\n    }\n\n    #[Test]\n    // /**\n    //  * @test\n    //  */\n    public function the_list_of_permissions_should_be_cached(): void\n    {\n        Permission::query()->create(['permission' => 'edit:users']);\n        \$fromCache = Cache::get('permissions');\n        \$this->assertCount(1, \$fromCache);\n    }\n}\n");
        File::createFile('app/Http/Middleware', 'CheckPermission.php', "<?php\n\nnamespace App\Http\Middleware;\n\nuse Closure;\nuse Illuminate\Http\Request;\nuse Symfony\Component\HttpFoundation\Response;\n\nclass CheckPermission\n{\n    /**\n     * Handle an incoming request.\n     *\n     * @param  \Closure(\Illuminate\Http\Request): (\Symfony\Component\HttpFoundation\Response)  \$next\n     */\n    public function handle(Request \$request, Closure \$next, string \$permission): Response\n    {\n        abort_unless(\$request->user()->can(\$permission), Response::HTTP_FORBIDDEN);\n        return \$next(\$request);\n    }\n}\n");
        File::createFile('app/Policies', "UserPolicy.php", "<?php\n\nnamespace App\Policies;\n\nuse App\Models\User;\n\nclass UserPolicy\n{\n    /**\n     * Determine whether the user can view any models.\n     */\n    public function viewAny(User \$user): bool\n    {\n        return \$user->hasPermissionTo('view-any:users');\n    }\n\n    /**\n     * Determine whether the user can view the model.\n     */\n    public function view(User \$user, User \$_user): bool\n    {\n        return \$user->hasPermissionTo('view:users');\n    }\n\n    /**\n     * Determine whether the user can create models.\n     */\n    public function create(User \$user, User \$_user): bool\n    {\n        return \$user->hasPermissionTo('create:users');\n    }\n\n    /**\n     * Determine whether the user can update the model.\n     */\n    public function update(User \$user, User \$_user): bool\n    {\n        return \$user->hasPermissionTo('update:users');\n    }\n\n    /**\n     * Determine whether the user can delete the model.\n     */\n    public function delete(User \$user, User \$_user): bool\n    {\n        return \$user->hasPermissionTo('delete:users') || \$user->id === \$_user->id;\n    }\n\n    /**\n     * Determine whether the user can restore the model.\n     */\n    public function restore(User \$user, User \$_user): bool\n    {\n        return \$user->hasPermissionTo('restore:users');\n    }\n\n    /**\n     * Determine whether the user can permanently delete the model.\n     */\n    public function forceDelete(User \$user, User \$_user): bool\n    {\n        return \$user->hasPermissionTo('force-delete:users');\n    }\n}\n");
        File::createFile('app/Observers', "PermissionObserver.php", "<?php\n\nnamespace App\Observers;\n\nuse App\Models\Permission;\nuse Illuminate\Support\Facades\Cache;\n\nclass PermissionObserver\n{\n    /**\n     * Handle the Permission \"created\" event.\n     */\n    public function created(Permission \$permission): void\n    {\n        Cache::forget('permissions');\n        Cache::rememberForever('permissions', fn () => Permission::all());\n    }\n\n    /**\n     * Handle the Permission \"updated\" event.\n     */\n    public function updated(Permission \$permission): void\n    {\n        //\n    }\n\n    /**\n     * Handle the Permission \"deleted\" event.\n     */\n    public function deleted(Permission \$permission): void\n    {\n        //\n    }\n\n    /**\n     * Handle the Permission \"restored\" event.\n     */\n    public function restored(Permission \$permission): void\n    {\n        //\n    }\n\n    /**\n     * Handle the Permission \"force deleted\" event.\n     */\n    public function forceDeleted(Permission \$permission): void\n    {\n        //\n    }\n}\n");
        File::createFile('app/Services', "ImageService.php", "<?php\n\nnamespace App\Services;\n\nuse Illuminate\Http\Request;\nuse Illuminate\Support\Facades\Storage;\n\nclass ImageService\n{\n    /**\n     * @param \Illuminate\Http\Request \$request\n     */\n    public function handleUpload(Request \$request, string \$name = 'picture', string  \$path = '', string \$current = null): ?string\n    {\n        if (\$request->hasFile(\$name)) {\n            \$extension = \$request->file(\$name)->getClientOriginalExtension();\n\n            \$this->handleDestroy(\$current);\n\n            return \$request->file(\$name)->storeAs(\$path, time() . \".\$extension\", 'public');\n        }\n    }\n\n    public function handleDestroy(string \$path = null): void\n    {\n        if (\$path) {\n            Storage::disk('public')->delete(\$path);\n        }\n    }\n}\n");
        File::createFile('app/Http/Controllers', "UserController.php", "<?php\n\nnamespace App\Http\Controllers;\n\nuse App\Models\User;\nuse Illuminate\Http\Request;\nuse Illuminate\Foundation\Auth\Access\AuthorizesRequests;\n\nclass UserController extends Controller\n{\n\n    use AuthorizesRequests;\n    /**\n     * Display a listing of the resource.\n     */\n    public function index()\n    {\n        \$this->authorize('viewAny');\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     */\n    public function create()\n    {\n        \$this->authorize('create');\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(Request \$request)\n    {\n        //\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show(string \$id)\n    {\n        \$user = User::findOrFail(\$id);\n        \$this->authorize('view', \$user);\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     */\n    public function edit(string \$id) {}\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(Request \$request, string \$id)\n    {\n        \$user = User::findOrFail(\$id);\n        \$this->authorize('update', \$user);\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(string \$id)\n    {\n        \$user = User::findOrFail(\$id);\n        \$this->authorize('delete', \$user);\n    }\n}\n");
        File::replace('/\\\HasApiTokens;/', "\HasApiTokens;\nuse Illuminate\Database\Eloquent\Relations\BelongsToMany;\nuse Illuminate\Support\Facades\Cache;\n", 'app/Models/User.php');
        File::replace('/}$/', "    /**\n     * BelongsToMany Permissions\n     *\n     * @return BelongToMany\n     */\n    public function permissions(): BelongsToMany\n    {\n        return \$this->belongsToMany(Permission::class);\n    }\n\n    /**\n     * Set permissions\n     *\n     * @return void\n     */\n    public function givePermissionTo(string \$permission): void\n    {\n        \$permission = Permission::getPermission(\$permission);\n\n        \$this->permissions()->attach(\$permission);\n\n        Cache::forget('permissions::of::user::' . \$this->id);\n    }\n\n    /**\n     * Check if the user has a specific permission\n     *\n     * @param string \$permission The permission to check\n     * @return bool True if the user has the permission, false otherwise\n     */\n    public function hasPermissionTo(string \$permission): bool\n    {\n        /** @var Collection \$userPermissions */\n        \$userPermissions = Cache::rememberForever(\n            'permissions::of::user::' . \$this->id,\n            fn () => \$this->permissions()->get()\n        );\n\n        return \$userPermissions->contains('permission', \$permission);\n    }\n}\n", 'app/Models/User.php');
        File::replace('/Middleware;/', "Middleware;\nuse App\Http\Middleware\CheckPermission;", 'bootstrap/app.php');
        File::replace('/]\);/', "]);\n        \$middleware->alias([\n            'permission' => CheckPermission::class\n        ]);", 'bootstrap/app.php');
        File::replace('/boot\(\): void\n    {/', "boot(): void\n    {\n        Permission::observe(PermissionObserver::class);\n        Gate::before(function (\$user, \$ability) {\n            if (Permission::existOnCache(\$ability)) {\n                return \$user->hasPermissionTo(\$ability);\n            }\n        });", 'app/Providers/AppServiceProvider.php');
        File::replace('/ServiceProvider;/', "ServiceProvider;\nuse App\Models\Permission;\nuse App\Observers\PermissionObserver;\nuse Illuminate\Support\Facades\Gate;", 'app/Providers/AppServiceProvider.php');
        File::replace('/->name\(\'dashboard\'\);/', "->name('dashboard');\n\n    Route::resources([\n        'users' => App\Http\Controllers\UserController::class,\n    ]);", 'routes/web.php');
        File::replace('/\'Welcome\', \[\n        \'canLogin\' => Route::has\(\'login\'\),\n        \'canRegister\' => Route::has\(\'register\'\),\n        \'laravelVersion\' => Application::VERSION,\n        \'phpVersion\' => PHP_VERSION,\n    \]\);\n}\);/', "'Welcome');\n});\n\nRoute::get('enroll', function () {\n    return Inertia::render('Enroll/Enroll');\n})->name('enroll');", 'routes/web.php');

        // TODO: Profile - model, migration, controller, factory
        // TODO: frontend

        Terminal::exec('php artisan migrate');
    }

    static function addTemplate()
    {
        File::replace('/ale\(\)\) }}"/', "ale()) }}\" class='dark'", 'resources/views/app.blade.php');
        File::replace('/antialiased/', "antialiased dark:bg-primary-900", 'resources/views/app.blade.php');
        File::replace('/.vue\',\n    \],/', ".vue',\n    ],\n    darkMode: 'class',", 'tailwind.config.js');
        File::replace('/extend: {/', "extend: {\n            colors: {\n                primary: { \"50\": \"#e6eef5\", \"100\": \"#c0d4e5\", \"200\": \"#97b8d4\", \"300\": \"#6e9cc2\", \"400\": \"#4d85b4\", \"500\": \"#296fa5\", \"600\": \"#1f5983\", \"700\": \"#174462\", \"800\": \"#0f2f42\", \"900\": \"#081b24\", \"950\": \"#041017\" }\n            },", 'tailwind.config.js');

        echo Message::txtPurpleLight('Creating Auth Layout...');

        File::write('resources/js/Components/DarkMode.vue', "<script setup>\nimport { ref } from 'vue';\n\nconst theme = ref(localStorage.getItem('color-theme') || 'dark');\nconst dark = ref(theme.value === 'dark');\n\nconst toggleMode = () => {\n    if(dark.value) {\n        document.documentElement.classList.add('dark');\n    } else {\n        document.documentElement.classList.remove('dark');\n    }\n    localStorage.setItem('color-theme', dark.value ? 'dark' : 'light');\n};\n\ntoggleMode();\n\n</script>\n\n<template>\n    <div class=\"cursor-pointer\" @click=\"dark = !dark;toggleMode()\">\n        <i v-if=\"dark\" class=\"fa-solid fa-sun text-gray-400\"></i>\n        <i v-else class=\"fa-solid fa-moon text-gray-400\"></i>\n    </div>\n</template>\n");
        File::write('resources/js/Layouts/AuthLayout.vue', "<script setup>\nimport DarkMode from '@/Components/DarkMode.vue';\nimport { Head } from '@inertiajs/vue3';\n\ndefineProps({\n    title: String,\n    status: String,\n});\n</script>\n\n<template>\n    <Head :title=\"title\" />\n\n    <div class=\"fixed top-4 right-6\">\n        <DarkMode />\n    </div>\n    <div class=\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\">\n        <a\n            href=\"#\"\n            class=\"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white\"\n        >\n            <img\n                src=\"/assets/images/favicons/apple-touch-icon.png\"\n                class=\"mr-4 h-20\"\n                alt=\"Smart Logo\"\n            />\n        </a>\n\n        <div v-if=\"status\" class=\"mb-4 font-medium text-sm text-green-600 dark:text-green-400\">\n            {{ status }}\n        </div>\n\n        <div\n            class=\"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700\"\n        >\n            <slot />\n        </div>\n    </div>\n</template>\n");
        File::write('resources/js/Pages/Auth/Login.vue', "<script setup>\nimport AuthLayout from '@/Layouts/AuthLayout.vue';\nimport { Link, useForm } from '@inertiajs/vue3';\nimport { ref } from 'vue';\n\ndefineProps({\n    status: String,\n});\n\nconst form = useForm({\n    email: '',\n    password: '',\n    remember: false,\n});\n\nconst showPassword = ref(false);\n\nconst submit = () => {\n    form.transform((data) => ({\n        ...data,\n        remember: form.remember ? 'on' : '',\n    })).post(route('login'), {\n        onFinish: () => form.reset('password'),\n    });\n};\n</script>\n\n<template>\n    <AuthLayout title=\"Log in\" :status=\"status\">\n        <form @submit.prevent=\"submit\" novalidate>\n            <div class=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\n                <h1\n                    class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n                >\n                    Entrar na sua conta\n                </h1>\n                <div>\n                    <label\n                        for=\"email\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        E-mail\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-envelope text-gray-400\"></i>\n                        </div>\n                        <input\n                            type=\"email\"\n                            v-model=\"form.email\"\n                            name=\"email\"\n                            id=\"email\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            placeholder=\"email@example.com\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p v-if=\"form.errors.email\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n                        {{ form.errors.email }}\n                    </p>\n                </div>\n                <div>\n                    <label\n                        for=\"password\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        Senha\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-lock text-gray-400\"></i>\n                        </div>\n                        <input\n                            :type=\"showPassword ? 'text' : 'password'\"\n                            name=\"password\"\n                            id=\"password\"\n                            v-model=\"form.password\"\n                            placeholder=\"••••••••\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            required=\"\"\n                        />\n                        <div\n                            class=\"absolute inset-y-0 end-0 flex items-center pe-3.5\"\n                            @click=\"showPassword = !showPassword\"\n                        >\n                            <i v-if=\"showPassword\" class=\"fa-solid fa-eye-slash text-gray-400\"></i>\n                            <i v-else class=\"fa-solid fa-eye text-gray-400\"></i>\n                        </div>\n                    </div>\n                    <p\n                        v-if=\"form.errors.password\"\n                        class=\"mt-2 text-sm text-red-600 dark:text-red-500\"\n                    >\n                        {{ form.errors.password }}\n                    </p>\n                </div>\n                <div class=\"flex items-center justify-between\">\n                    <div class=\"flex items-start\">\n                        <div class=\"flex items-center h-5\">\n                            <input\n                                id=\"remember\"\n                                aria-describedby=\"remember\"\n                                type=\"checkbox\"\n                                v-model=\"form.remember\"\n                                class=\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800\"\n                            />\n                        </div>\n                        <div class=\"ml-3 text-sm\">\n                            <label for=\"remember\" class=\"text-gray-500 dark:text-gray-300\">\n                                Lembrar\n                            </label>\n                        </div>\n                    </div>\n                    <Link\n                        :href=\"route('password.request')\"\n                        class=\"text-sm font-medium text-primary-600 hover:underline dark:text-primary-300\"\n                    >\n                        Esqueceu sua senha?\n                    </Link>\n                </div>\n                <button\n                    type=\"submit\"\n                    :class=\"{ 'opacity-25': form.processing }\"\n                    :disabled=\"form.processing\"\n                    class=\"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\"\n                >\n                    Entrar\n                </button>\n                <p class=\"text-sm font-light text-gray-500 dark:text-gray-400\">\n                    Não possui conta?\n                    <Link\n                        :href=\"route('register')\"\n                        class=\"font-medium text-primary-600 hover:underline dark:text-primary-300\"\n                    >\n                        Criar\n                    </Link>\n                </p>\n            </div>\n        </form>\n    </AuthLayout>\n</template>\n");
        File::write('resources/js/Pages/Auth/ForgotPassword.vue', "<script setup>\nimport AuthLayout from '@/Layouts/AuthLayout.vue';\nimport { useForm, Link } from '@inertiajs/vue3';\n\ndefineProps({\n    status: String,\n});\n\nconst form = useForm({\n    email: '',\n});\n\nconst submit = () => {\n    form.post(route('password.email'));\n};\n</script>\n\n<template>\n    <AuthLayout title=\"Recuperar Senha\" :status=\"status\">\n        <form @submit.prevent=\"submit\" novalidate>\n            <div class=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\n                <h1\n                    class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n                >\n                    Recuperar Senha\n                </h1>\n                <div>\n                    <label\n                        for=\"email\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        E-mail\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-envelope text-gray-400\"></i>\n                        </div>\n                        <input\n                            type=\"email\"\n                            v-model=\"form.email\"\n                            name=\"email\"\n                            id=\"email\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            placeholder=\"email@example.com\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p v-if=\"form.errors.email\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n                        {{ form.errors.email }}\n                    </p>\n                </div>\n                <button\n                    type=\"submit\"\n                    :class=\"{ 'opacity-25': form.processing }\"\n                    :disabled=\"form.processing\"\n                    class=\"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\"\n                >\n                    Enviar link de recuperação\n                </button>\n                <p class=\"text-sm font-light text-gray-500 dark:text-gray-400\">\n                    <Link\n                        :href=\"route('login')\"\n                        class=\"font-medium text-primary-600 hover:underline dark:text-primary-300\"\n                    >\n                        Voltar\n                    </Link>\n                </p>\n            </div>\n        </form>\n    </AuthLayout>\n</template>\n");
        File::write('resources/js/Pages/Auth/ResetPassword.vue', "<script setup>\nimport AuthLayout from '@/Layouts/AuthLayout.vue';\nimport { useForm, Link } from '@inertiajs/vue3';\nimport { ref } from 'vue';\n\nconst props = defineProps({\n    email: String,\n    token: String,\n});\n\nconst showPassword = ref(false);\n\nconst form = useForm({\n    token: props.token,\n    email: props.email,\n    password: '',\n    password_confirmation: '',\n});\n\nconst submit = () => {\n    form.post(route('password.update'), {\n        onFinish: () => form.reset('password', 'password_confirmation'),\n    });\n};\n</script>\n\n<template>\n    <AuthLayout title=\"Reset Password\" :status=\"status\">\n        <form @submit.prevent=\"submit\" novalidate>\n            <div class=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\n                <h1\n                    class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n                >\n                    Trocar Senha\n                </h1>\n                <div>\n                    <label\n                        for=\"email\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        E-mail\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-envelope text-gray-400\"></i>\n                        </div>\n                        <input\n                            type=\"email\"\n                            v-model=\"form.email\"\n                            name=\"email\"\n                            id=\"email\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            placeholder=\"email@example.com\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p v-if=\"form.errors.email\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n                        {{ form.errors.email }}\n                    </p>\n                </div>\n                <div>\n                    <label\n                        for=\"password\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        Senha\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-lock text-gray-400\"></i>\n                        </div>\n                        <input\n                            :type=\"showPassword ? 'text' : 'password'\"\n                            name=\"password\"\n                            id=\"password\"\n                            v-model=\"form.password\"\n                            placeholder=\"••••••••\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            required=\"\"\n                        />\n                        <div\n                            class=\"absolute inset-y-0 end-0 flex items-center pe-3.5\"\n                            @click=\"showPassword = !showPassword\"\n                        >\n                            <i v-if=\"showPassword\" class=\"fa-solid fa-eye-slash text-gray-400\"></i>\n                            <i v-else class=\"fa-solid fa-eye text-gray-400\"></i>\n                        </div>\n                    </div>\n                    <p\n                        v-if=\"form.errors.password\"\n                        class=\"mt-2 text-sm text-red-600 dark:text-red-500\"\n                    >\n                        {{ form.errors.password }}\n                    </p>\n                </div>\n                <div>\n                    <label\n                        for=\"password\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        Confirmar Senha\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-lock text-gray-400\"></i>\n                        </div>\n                        <input\n                            :type=\"showPassword ? 'text' : 'password'\"\n                            name=\"password\"\n                            id=\"password\"\n                            v-model=\"form.password_confirmation\"\n                            placeholder=\"••••••••\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p\n                        v-if=\"form.errors.password_confirmation\"\n                        class=\"mt-2 text-sm text-red-600 dark:text-red-500\"\n                    >\n                        {{ form.errors.password_confirmation }}\n                    </p>\n                </div>\n\n                <button\n                    type=\"submit\"\n                    :class=\"{ 'opacity-25': form.processing }\"\n                    :disabled=\"form.processing\"\n                    class=\"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\"\n                >\n                    Mudar Senha\n                </button>\n                <p class=\"text-sm font-light text-gray-500 dark:text-gray-400\">\n                    <Link\n                        :href=\"route('login')\"\n                        class=\"font-medium text-primary-600 hover:underline dark:text-primary-300\"\n                    >\n                        Voltar\n                    </Link>\n                </p>\n            </div>\n        </form>\n    </AuthLayout>\n</template>\n");
        File::write('resources/js/Pages/Auth/Register.vue', "<script setup>\nimport AuthLayout from '@/Layouts/AuthLayout.vue';\nimport { Link, useForm } from '@inertiajs/vue3';\nimport { ref } from 'vue';\n\nconst form = useForm({\n    name: '',\n    email: '',\n    password: '',\n    password_confirmation: '',\n});\n\nconst showPassword = ref(false);\n\nconst submit = () => {\n    form.post(route('register'), {\n        onFinish: () => form.reset('password', 'password_confirmation'),\n    });\n};\n</script>\n\n<template>\n    <AuthLayout title=\"Register\" :status=\"status\">\n        <form @submit.prevent=\"submit\" novalidate>\n            <div class=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\n                <h1\n                    class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n                >\n                    Criar conta\n                </h1>\n                <div>\n                    <label\n                        for=\"name\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        Nome\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-user text-gray-400\"></i>\n                        </div>\n                        <input\n                            type=\"text\"\n                            v-model=\"form.name\"\n                            name=\"name\"\n                            id=\"name\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-1.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            placeholder=\"John Doe\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p v-if=\"form.errors.name\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n                        {{ form.errors.name }}\n                    </p>\n                </div>\n                <div>\n                    <label\n                        for=\"email\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        E-mail\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-envelope text-gray-400\"></i>\n                        </div>\n                        <input\n                            type=\"email\"\n                            v-model=\"form.email\"\n                            name=\"email\"\n                            id=\"email\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-1.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            placeholder=\"email@example.com\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p v-if=\"form.errors.email\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n                        {{ form.errors.email }}\n                    </p>\n                </div>\n                <div>\n                    <label\n                        for=\"password\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        Senha\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-lock text-gray-400\"></i>\n                        </div>\n                        <input\n                            :type=\"showPassword ? 'text' : 'password'\"\n                            name=\"password\"\n                            id=\"password\"\n                            v-model=\"form.password\"\n                            placeholder=\"••••••••\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-1.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            required=\"\"\n                        />\n                        <div\n                            class=\"absolute inset-y-0 end-0 flex items-center pe-3.5\"\n                            @click=\"showPassword = !showPassword\"\n                        >\n                            <i v-if=\"showPassword\" class=\"fa-solid fa-eye-slash text-gray-400\"></i>\n                            <i v-else class=\"fa-solid fa-eye text-gray-400\"></i>\n                        </div>\n                    </div>\n                    <p\n                        v-if=\"form.errors.password\"\n                        class=\"mt-2 text-sm text-red-600 dark:text-red-500\"\n                    >\n                        {{ form.errors.password }}\n                    </p>\n                </div>\n                <div>\n                    <label\n                        for=\"password_confirmation\"\n                        class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\n                    >\n                        Confirmar Senha\n                    </label>\n                    <div class=\"relative\">\n                        <div\n                            class=\"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none\"\n                        >\n                            <i class=\"fa-solid fa-lock text-gray-400\"></i>\n                        </div>\n                        <input\n                            :type=\"showPassword ? 'text' : 'password'\"\n                            name=\"password_confirmation\"\n                            id=\"password_confirmation\"\n                            v-model=\"form.password_confirmation\"\n                            placeholder=\"••••••••\"\n                            class=\"ps-10 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-1.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\n                            required=\"\"\n                        />\n                    </div>\n                    <p\n                        v-if=\"form.errors.password_confirmation\"\n                        class=\"mt-2 text-sm text-red-600 dark:text-red-500\"\n                    >\n                        {{ form.errors.password_confirmation }}\n                    </p>\n                </div>\n                <button\n                    type=\"submit\"\n                    :class=\"{ 'opacity-25': form.processing }\"\n                    :disabled=\"form.processing\"\n                    class=\"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\"\n                >\n                    Registrar\n                </button>\n                <p class=\"text-sm font-light text-gray-500 dark:text-gray-400\">\n                    Já possui conta?\n                    <Link\n                        :href=\"route('login')\"\n                        class=\"font-medium text-primary-600 hover:underline dark:text-primary-300\"\n                    >\n                        Entrar\n                    </Link>\n                </p>\n            </div>\n        </form>\n    </AuthLayout>\n</template>\n");

        self::landingPageImage();

        File::write('resources/js/Layouts/LandingPageLayout.vue', "<script setup>\nimport { Head, Link } from '@inertiajs/vue3';\n\ndefineProps({\n    title: String,\n});\n</script>\n\n<template>\n    <Head :title=\"title\" />\n    <div class=\"flex flex-col\">\n        <div class=\"relative text-white text-center overflow-hidden\">\n            <div\n                class=\"py-60 saturate-200 contrast-200 hue-roate-180 opacity-20 bg-cover bg-center bg-[url('/assets/images/template/landing-main.jpg')]\"\n            />\n            <div class=\"absolute inset-0 flex flex-col items-center justify-center text-white\">\n                <img\n                    src=\"/assets/images/template/iasd_logo.svg\"\n                    class=\"mr-4 h-32 mb-8\"\n                    alt=\"IASD Logo\"\n                />\n                <slot name=\"header\" />\n            </div>\n            <div class=\"absolute top-4 right-6\">\n                <Link href=\"/\" class=\"me-2 hover:text-primary-100\">Home</Link>\n                |\n                <Link :href=\"route('enroll')\" class=\"m-2 hover:text-primary-100\">Inscrição</Link>\n                |\n                <Link :href=\"route('login')\" class=\"ms-2 hover:text-primary-100\">Entrar</Link>\n            </div>\n            <div class=\"absolute bg-primary-900 py-16 w-full -bottom-20 -skew-y-6\" />\n            <div class=\"absolute bg-primary-900 py-16 w-full -bottom-40 skew-y-12\" />\n        </div>\n\n        <slot />\n\n        <footer class=\"bg-primary-800 text-white text-center py-4\">\n            Igreja Adventista do Sétimo Dia - Central de Caruaru\n            <span class=\"px-4 block-inline\">|</span>\n            Contato: (81) 9 9999-9999\n        </footer>\n    </div>\n</template>\n");
        File::write('resources/js/Pages/Welcome.vue', "<script setup>\nimport LandingPageLayout from '@/Layouts/LandingPageLayout.vue';\nimport { Link } from '@inertiajs/vue3';\n</script>\n\n<template>\n    <LandingPageLayout title=\"Welcome\">\n        <template #header>\n            <h1 class=\"text-6xl font-bold mb-2\">ECC 2025</h1>\n            <h2 class=\"text-4xl mt-2 font-bold text-green-400\">28 à 30 de Outubro de 2025</h2>\n            <p class=\"text-3xl mt-4 text-primary-200\">Faltam 384 dias</p>\n        </template>\n\n        <p class=\"text-primary-200 text-center px-16 md:w-2/3 mx-auto mt-8 text-xl\">\n            O\n            <span class=\"font-bold\">ECC (Encontro de Casais com Cristo)</span>\n            é um evento organizado pela\n            <span class=\"font-bold\">Igreja Adventista do Sétimo Dia</span>\n            , que visa fortalecer os laços familiares e promover o amor e a união entre casais. A\n            importância deste evento para a sociedade é\n            <span class=\"text-green-400\">inegável</span>\n            , pois em um mundo onde os relacionamentos enfrentam inúmeros desafios, o ECC se torna\n            uma oportunidade valiosa para que os casais reflitam sobre suas vidas, aprendam a lidar\n            com as dificuldades e acima de tudo que tenham\n            <span class=\"text-green-400 font-bold\">um verdadeiro encontro com Cristo</span>\n        </p>\n        <p class=\"text-primary-100 text-center px-16 md:w-2/3 my-8 mx-auto\">\n            Por isso, fazemos um apelo especial a você: junte-se a nós no ECC! Sua presença é\n            fundamental para o sucesso deste evento.\n            <span class=\"text-green-400 font-bold\">Venha participar!</span>\n        </p>\n        <div class=\"flex flex-grow justify-center text-white text-center py-8 bg-primary-950\">\n            <div class=\"flex flex-col gap-4 text-xl items-center\">\n                <p class=\"font-bold\">\n                    Você pode participar\n                    <span class=\"font-bold text-primary-200\">trabalhando</span>\n                    , inscrevendo um\n                    <span class=\"font-bold text-primary-200\">casal</span>\n                    ou\n                    <span class=\"font-bold text-primary-200\">ambos</span>\n                    !\n                </p>\n\n                <Link\n                    :href=\"route('enroll')\"\n                    class=\"bg-primary-600 hover:bg-primary-700 font-bold py-2 px-4 rounded text-2xl\"\n                >\n                    Inscreva-se\n                </Link>\n            </div>\n        </div>\n    </LandingPageLayout>\n</template>\n");
        // File::write('resources/js/Pages/Enroll/Enroll.vue', "");
        // File::write('resources/js/Components/Stepper.vue', "");
        // File::write('resources/js/Pages/Enroll/Partial/Pricing.vue', "");
        // File::write('resources/js/Pages/Enroll/Partial/Form.vue', "");
        // File::write('resources/js/Pages/Enroll/Partial/Checkout.vue', "");
    }

    static function landingPageImage()
    {
        echo Message::txtPurpleLight("Configuring Landing Page...\n\n");

        $basePath = getenv('HOME') . '/Downloads/';
        $outputDir = 'public/assets/images/template/';
        File::createFolder($outputDir);

        while (true) {
            $imagePath = Inputs::type("Enter background image's path [$basePath]");
            $output_image = $outputDir . 'landing-main.' . pathinfo($imagePath, PATHINFO_EXTENSION);

            if ($imagePath) {
                File::move($basePath . $imagePath, $output_image);

                if (!file_exists($output_image) && Inputs::decisions("File not found, try again")) {
                    continue;
                }
            }
            break;
        }
    }

    static function gitCommit()
    {
        if (Inputs::decisions("Do you would like to git commit changes")) {
            $commit_name = Inputs::type("\nType your commit message", 'Initial commit');
            Terminal::show('git init');
            Terminal::exec('git add .');
            Terminal::exec('git commit -m "' . $commit_name . '"');
        }
    }
}

class Serve
{
    function __construct()
    {
        $host = '127.0.0.1';
        $port = 8000;
        $isMobile = Commands::getParam(1) === '--mobile';

        if ($isMobile) {
            $host = '0.0.0.0';
        }

        // TODO: mobile
        // run online not npm run dev
        // dont get IP correct = ifconfig en0

        while (true) {
            $connection = @fsockopen($host, $port, $errno, $errstr, 2);
            if (is_resource($connection)) {
                $port++;
                fclose($connection);
            } else {

                if ($isMobile) {
                    echo Message::txtGreen("Server is running on port '$port' to mobile\n\n");
                    echo "Open your mobile browser and navigate to: ";
                    echo Message::txtPurpleLight("http://" . getHostByName(getHostName()) . ":$port\n\n");
                }

                $phpServer = proc_open("php -S $host:$port -t public", [], $phpPipes);
                $npmServer = proc_open('npm run dev', [], $npmPipes);

                if (is_resource($phpServer) && is_resource($npmServer)) {
                    proc_close($phpServer);
                    proc_close($npmServer);
                }
                break;
            }
        }
    }
}

class Commands
{
    static function command(): ?string
    {
        list($command) = explode(':', self::getParam(0));
        return $command;
    }

    static function commandParam(): ?string
    {
        list($_, $param) = explode(':', self::getParam(0));
        return $param;
    }

    static function getParam(int $index = 1): ?string
    {
        return $GLOBALS['argv'][$index + 1];
    }

    static function hasParams()
    {
        return $GLOBALS['argc'] > 1;
    }
}

class Make
{
    function __construct()
    {
        switch (Commands::commandParam()) {
            case 'crud':
                new Crud();
                break;
            case 'mail':
                new Email();
                break;
            case 'icon':
                Icon::create();
                break;
            default:
                echo Message::txtRed("Command not recognized.\n\n");
                break;
        }
    }
}

class Crud
{
    function __construct()
    {
        $model = Commands::getParam();
        $this->create($model);
    }

    static function create(string $model)
    {
        $singular = Strings::singularize($model);
        // Terminal::exec('php artisan make:model ' . ucfirst($singular) . ' -a');
        $plural = Strings::singularize($model, true);

        // TODO select with --filled -> default data
        // if (Inputs::decisions("Do you would like to insert columns in the CRUD?")) {
        self::insertColumnsModel($plural);
        // }

        // if (Inputs::decisions("Do you would like to run migration fresh?")) {
        //     Terminal::exec('php artisan migrate:fresh --seed');
        // } else {
        //     Terminal::exec('php artisan migrate');
        // }
        // Create::gitCommit();
    }

    static private array $columns = [];

    static function insertColumnsModel(string $model)
    {
        $types = [
            "strings" => [
                'subTypes' => ["string", "text", "char"],
                'size' => fn($index) => in_array($index, [0, 2]),
            ],
            "integers" => [
                'subTypes' => ["integer", "tinyInteger", "smallInteger", "mediumInteger", "bigInteger"],
                'size' => fn() => false,
            ],
            "decimals" => [
                'subTypes' => ["decimal", "double", "float"],
                'hasFloat' => fn($index) => in_array($index, [2]) ? '6' : '8, 2',
            ],
            "dates" => [
                'subTypes' => ["date", "datetime", "timestamp"],
            ],
            "arrays" => [
                'subTypes' => ["enum", "boolean", "json", "jsonb"],
                'hasArray' => fn($index) => in_array($index, [0]),
            ],
            "ids / foreign keys" => [
                'subTypes' => ["uuid", "foreignId"],
            ],
            "::: Finish :::" => [],
        ];
        $arrayKeys = array_keys($types);

        while (true) {
            Terminal::clear();

            $typeIndex = Inputs::options($arrayKeys, "Select a type:");

            if ($typeIndex === 6) break;

            $type = $types[$arrayKeys[$typeIndex]];
            $typeIndex = Inputs::options([...$type['subTypes'], '::: Return :::'], "Select a type:");

            if (count($type['subTypes']) === $typeIndex) continue;

            self::setColumn(
                $type['subTypes'][$typeIndex],
                isset($type['size']) ? $type['size']($typeIndex) : false,
                isset($type['hasFloat']) ? $type['hasFloat']($typeIndex) : false,
                isset($type['hasArray']) ? $type['hasArray']($typeIndex) : false,
            );
        }

        // if (Inputs::decisions("is it a soft delete?")) {
        //     self::setColumn('softDeletes');
        // }

        // self::insertToMigration($model);
        // self::insertToModel($model);
        // self::createFilter($model);
        // self::insertToRoute($model);
        // self::createController($model);
        // self::createResources($model);
        // self::updateRequests($model);
        self::updateFactory($model);

        // TODO update factory
        // TODO update seed
        // TODO update policy
        // TODO services
        // TODO add tests
        // TODO add pages

        // TODO add docs
        // TODO remove crud file
        // TODO update crud file
    }

    private static function setColumn(string $type, bool $hasSize = false, string $floatSize = '', $hasArray = false): void
    {
        $isForeignKey = $type === 'foreignId';
        $name = in_array($type, ['softDeletes', 'uuid']) ? null
            : Inputs::type("\nType a " . ($isForeignKey ? 'table' : 'column')  . "name", $isForeignKey ? null : 'name');
        $defaultSize = $floatSize ? $floatSize : 255;
        $array = [];
        $default = '';
        $size = $hasSize || $floatSize ? Inputs::type("Type a size", $defaultSize) : null;

        if ($hasArray) {
            while (true) {
                $item = Inputs::type("Type a enum item [press enter to finish]");

                if (!$item) {
                    if (!count($array)) continue;
                    break;
                };
                $array[] = $item;
            }
            $default = Inputs::decisions("Select a default value?", false, [...$array, 'No Default']);
            $default = count($array) === $default ? '' : "->default('{$array[$default]}')";
        }

        if ($isForeignKey) {
            if (!$name) {
                self::setColumn('foreignId');
                return;
            }
            $constrained = Strings::singularize($name);
            $name = $constrained . '_id';
            $options = ['hasOne', 'hasMany', 'belongsTo', 'belongsToMany'];
            $relationQuantity = [
                $options[Inputs::decisions("Select a relation [model -> $constrained]:", false, $options)],
                $options[Inputs::decisions("Select a relation [{$constrained} -> model]:", false, $options)],
            ];
        }

        if ($type !== "softDeletes") {
            $nullable = self::selectRequired();
        }

        if (!$nullable && $type === "boolean") {
            $default = "->default(0)";
        }

        self::$columns[] = [
            'type' => $type,
            'size' => $size,
            'name' => $name,
            'nullable' => $nullable,
            'array' => $array,
            'default' => $default,
            'constrained' => $constrained,
            'relationQuantity' => $relationQuantity,
        ];
    }

    private static function selectRequired(): string
    {
        $type = ["no", "yes"];
        $typeIndex = Inputs::options($type, "Is required?");

        if (!$typeIndex) {
            return '->nullable()';
        }
        return '';
    }

    private static function insertToMigration(string $model): void
    {
        $path = "database/migrations/";
        $path .= self::getFileName("create_$model" . "_table", $path);
        $content = File::read($path);
        $lines = [];

        foreach (self::$columns as $column) {
            $lines[] = "\$table->{$column['type']}(" . ($column['name'] ? "'{$column['name']}'" : '') .
                ($column['array'] ? ", " . json_encode($column['array']) : '') .
                ($column['size'] ? ", {$column['size']}" : "") .
                "){$column['nullable']}" .  (empty($column['constrained']) ? '' : "->constrained('" . Strings::singularize($column['constrained'], true) . "')") .
                "{$column['default']};";
        }

        $content = str_replace("\$table->timestamps();", implode("\n\t\t\t", $lines) . "\n\t\t\t\$table->timestamps();", $content);
        File::write($path, $content);
    }

    private static function insertToModel(string $model): void
    {
        $pathBase = "app/Models/";
        $modelName = ucfirst(Strings::singularize($model));
        $path = self::getFileName($modelName, $pathBase);
        $content = File::read($pathBase . $path);
        $fillable = "/**\n     * The attributes that are mass assignable.\n     *\n     * @var array<int, string>\n     */\n    protected \$fillable = [\n\t\t'" .
            implode("',\n\t\t'", array_filter(array_column(self::$columns, 'name'), fn($name) => !empty($name))) . "',\n\t];";
        $foreignKeyBase = "\n\n\tpublic function %s()\n\t{\n\t\treturn \$this->%s(%s::class);\n\t}";
        $foreignKeys = '';
        $softDelete = false;

        foreach (self::$columns as $column) {
            if ($column['type'] === 'softDeletes') {
                $softDelete = true;
                $find = "use Illuminate\Database\Eloquent\Model;";
                $content = str_replace($find, $find . "\nuse Illuminate\Database\Eloquent\SoftDeletes;", $content);
            } else if ($column['type'] === 'foreignId') {
                $foreignModel = ucfirst($column['constrained']);
                $foreignKeys .= sprintf(
                    $foreignKeyBase,
                    Strings::singularize(
                        $column['constrained'],
                        in_array($column['relationQuantity'][0], ['hasMany', 'belongsToMany'])
                    ),
                    $column['relationQuantity'][0],
                    ucfirst($column['constrained']),
                );
                $_path = self::getFileName($foreignModel, $pathBase);
                $_content = File::read($pathBase . $_path);
                $_content = substr($_content, 0, -3) . sprintf(
                    $foreignKeyBase,
                    Strings::singularize(
                        $model,
                        in_array($column['relationQuantity'][1], ['hasMany', 'belongsToMany'])
                    ),
                    $column['relationQuantity'][1],
                    $modelName,
                ) . "}";
                File::write($pathBase . $_path, $_content);
            }
        }

        $content = str_replace("use HasFactory;", "use HasFactory" . ($softDelete ? ', SoftDeletes' : '') .
            ";\n\t$fillable" . $foreignKeys, $content);
        File::write($pathBase . $path, $content);
    }

    private static function insertToRoute(string $model): void
    {
        $path = "routes/web.php";
        $content = File::read($path);
        $isResource = strpos($content, 'Route::resources([') !== false;
        $resource = $isResource ? "\t'%s' => App\Http\Controllers\%sController::class," :
            "Route::resources([\n\t\t'%s' => App\Http\Controllers\%sController::class,\n\t]);\n";
        $replace = $isResource ? 'Route::resources([' : '->group(function () {';
        $content = str_replace(
            $replace,
            "$replace\n\t" . sprintf(
                $resource,
                Strings::singularize($model, true),
                ucfirst(Strings::singularize($model)),
            ),
            $content
        );
        File::write($path, $content);
    }

    private static function createFilter(string $model): void
    {
        $modelName = ucfirst(Strings::singularize($model));
        $content = "<?php\n\nnamespace App\Filters;\n\nuse App\Filters\Filter;\n\nclass {$modelName}Filter extends Filter\n{\n	protected \$safeParams = [\n";

        foreach (self::$columns as $column) {
            if (empty($column['name'])) {
                continue;
            }
            $filter = '';

            switch ($column['type']) {
                case 'string':
                case 'text':
                case 'char':
                    $filter = "'lk'";
                    break;
                case 'datetime':
                case 'timestamp':
                case 'date':
                    $filter = "'gte', 'lte'";
                default:
                    $filter = "'eq'";
                    break;
            }

            $content .= "\t\t'{$column['name']}' => [$filter],\n";
        }

        File::write('app/Filters/' . $modelName . "Filter.php", $content . "\t];\n}\n");
    }

    private static function createController(string $model): void
    {
        $singular = Strings::singularize($model);
        $plural = Strings::singularize($model, true);
        $model = ucfirst(Strings::singularize($model));
        $content = "<?php\n\nnamespace App\Http\Controllers;\n\nuse Illuminate\Http\Request;\nuse Inertia\Inertia;\nuse App\Filters\\{$model}Filter;\nuse App\Models\\{$model};\nuse App\Http\Requests\Store{$model}Request;\nuse App\Http\Requests\Update{$model}Request;\nuse App\Http\Resources\\{$model}Collection;\nuse App\Http\Resources\\{$model}Resource;\nuse Illuminate\Support\Facades\DB;\nuse Inertia\Response;\n\nclass {$model}Controller extends Controller\n{\n    /**\n     * Display a listing of the resource.\n     *\n     * @param  \Illuminate\Http\Request  \$request\n     * @return \Inertia\Response\n     */\n    public function index(Request \$request): Response\n    {\n        \$filter = new {$model}Filter(\$request, {$model}::class);\n\n        return Inertia::render('{$model}/Index', [\n            '{$plural}' => new {$model}Collection(\$filter->getBuilder()->appends(\$request->query())),\n        ]);\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     * \n     * @return \Inertia\Response\n     */\n    public function create(): Response\n    {\n        return Inertia::render('{$model}/Create');\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     * @param  \App\Http\Requests\Store{$model}Request  \$request\n     * @return \Inertia\Response\n     */\n    public function store(Store{$model}Request \$request)\n    {\n        DB::beginTransaction();\n\n        try {\n            \$data = \$request->all();\n            \${$singular} = {$model}::create(\$data);\n            DB::commit();\n            return Inertia::render('{$model}/Store', [\n                '{$singular}' => new {$model}Resource(\${$singular}),\n            ]);\n        } catch (\Exception \$e) {\n            DB::rollback();\n            throw \$e;\n        }\n    }\n    /**\n     * Display the specified resource.\n     * \n     * @param  \App\Models\{$model}  \${$singular}\n     * @return \Inertia\Response\n     */\n    public function show({$model} \${$singular}): Response\n    {\n        return Inertia::render('{$model}/Show', [\n            '{$singular}' => new {$model}Resource(\${$singular}),\n        ]);\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     *      \n     * @param  \App\Models\{$model}  \${$singular}\n     * @return \Inertia\Response\n     */\n    public function edit({$model} \${$singular})\n    {\n        return Inertia::render('{$model}/Edit', [\n            '{$singular}' => new {$model}Resource(\${$singular}),\n        ]);\n    }\n\n    /**\n     * Update the specified resource in storage.\n     * \n     * @param  \App\Http\Requests\Update{$model}Request  \$request\n     * @param  \App\Models\{$model}  \$company\n     * @return \Inertia\Response\n     */\n    public function update(Update{$model}Request \$request, {$model} \${$singular}): Response\n    {\n        DB::beginTransaction();\n\n        try {\n            \$validated = \$request->validated();\n            \${$singular}->update(\$validated);\n            DB::commit();\n            return Inertia::render('{$model}/Update', [\n                '{$singular}' => new {$model}Resource(\${$singular}),\n            ]);\n        } catch (\Exception \$e) {\n            DB::rollback();\n            throw \$e;\n        }\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     * \n     * @param  \App\Models\{$model}  \${$singular}\n     * @return \Inertia\Response\n     */\n    public function destroy({$model} \${$singular}): Response\n    {\n        \${$singular}->delete();\n\n        return Inertia::render('{$model}/Destroy', [\n            '{$singular}' => new {$model}Resource(\${$singular}),\n        ]);\n    }\n}\n";
        File::write('app/Http/Controllers/' . $model . "Controller.php", $content);
    }

    private static function createResources(string $model): void
    {
        $model = ucfirst(Strings::singularize($model));
        $content = "<?php\n\nnamespace App\Http\Resources;\n\nuse Illuminate\Http\Request;\nuse Illuminate\Http\Resources\Json\ResourceCollection;\n\nclass {$model}Collection extends ResourceCollection\n{\n    /**\n     * Transform the resource collection into an array.\n     *\n     * @return array<int|string, mixed>\n     */\n    public function toArray(Request \$request): array\n    {\n        return parent::toArray(\$request);\n    }\n}\n";
        $foreignKeys = '';
        File::write('app/Http/Resources/' . $model . "Collection.php", $content);

        foreach (self::$columns as $column) {
            if ($column['type'] === 'foreignId') {
                $constrained = Strings::singularize($column['constrained']);
                $foreignKeys .= "\n\t\t\t'" . $constrained . "' => \App\Models\\" . ucfirst($constrained)
                    . "::where('id', \$this->{$column['name']})->first(),";
            }
        }
        $content = sprintf(
            "<?php\n\nnamespace App\Http\Resources;\n\nuse Illuminate\Http\Request;\nuse Illuminate\Http\Resources\Json\JsonResource;\n\nclass %sResource extends JsonResource\n{\n  /**\n   * Transform the resource into an array.\n   *\n   * @return array<string, mixed>\n   */\n  public function toArray(Request \$request): array\n  {\n    return array_merge(parent::toArray(\$request), [%s\n\t\t]);\n  }\n}\n",
            $model,
            $foreignKeys
        );
        File::write('app/Http/Resources/' . $model . "Resource.php", $content);
    }

    private static function updateRequests(string $model): void
    {
        $model = ucfirst(Strings::singularize($model));
        $rules = '';
        $messages = '';
        $resource = "<?php\n\nnamespace App\Http\Requests;\n\nuse Illuminate\Foundation\Http\FormRequest;\n\nclass %sRequest extends FormRequest\n{\n    /**\n     * Determine if the user is authorized to make this request.\n     */\n    public function authorize(): bool\n    {\n        return true;\n    }\n\n    /**\n     * Get the validation rules that apply to the request.\n     *\n     * @return array<string, \Illuminate\Contracts\Validation\ValidationRule|array<mixed>|string>\n     */\n    public function rules(): array\n    {\n        return [%s\n        ];\n    }\n\n    /**\n     * Get the validation messages that apply to the request.\n     *\n     * @return array<string, \Illuminate\Contracts\Validation\ValidationRule|array<mixed>|string>\n     */\n    public function messages(): array\n    {\n        return [\n            %s\n        ];\n    }\n}\n";

        foreach (self::$columns as $column) {
            $rules .= "\n\t\t\t'{$column['name']}' => '" . ($column['nullable'] ? 'nullable' : 'required')
                . (in_array($column['type'], ['string', 'text', 'char']) ? "|string" : (in_array($column['type'], ['integer', 'tinyInteger', 'smallInteger', 'mediumInteger', 'bigInteger']) ? "|integer" : (in_array($column['type'], ['decimal', 'double', 'float']) ? "|numeric" : (in_array($column['type'], ['date', 'datetime', 'timestamp']) ? "|date" : ($column['type'] === 'email' ? "|email" : (in_array($column['type'], ['boolean', 'json', 'jsonb']) ? "|{$column['type']}" : ($column['type'] === 'foreignId' ? "|exists:" . Strings::singularize($column['constrained'], true) . ",id" : ($column['type'] === 'enum' ? "|in:" . implode(',', $column['array']) : ($column['type'] === 'uuid' ? "|uuid" : '')))))))))
                . ($column['size'] && !in_array($column['type'], ['decimal', 'double', 'float']) ? "|max:{$column['size']}" : "")
                .  "',";

            // TODO: messages
        }

        $content = sprintf($resource, "Store$model", $rules, $messages);
        File::write('app/Http/Requests/Store' . $model . "Request.php", $content);

        $content = sprintf($resource, "Update$model", $rules, $messages);
        File::write('app/Http/Requests/Update' . $model . "Request.php", $content);
    }

    private static function updateFactory(string $model): void {}

    private static function getFileName(string $name, string $path = '')
    {
        $migrationsDir = __DIR__ . "/$path";
        $migrationFiles = scandir($migrationsDir);

        foreach ($migrationFiles as $file) {
            echo "$file - $name\n";
            if (strpos($file, $name) !== false) {
                return $file;
            }
        }
    }
}

class Email
{
    function __construct()
    {
        self::create(Commands::getParam());
    }

    static function template() {}

    static function create(string $name)
    {
        $name = ucfirst($name);
        echo Message::txtPurpleLight("\nCreating email $name...\n\n");

        File::createFile("app/Mail", "{$name}.php", "<?php\n\nnamespace App\Mail;\n\n/**\n * Example send email\n * \n * Mail::to(\$mail)->send(new {$name}((object)[\n *  'user' => \$user->name, \n * ]));\n */\n\nuse Illuminate\Bus\Queueable;\nuse Illuminate\Mail\Mailable;\nuse Illuminate\Mail\Mailables\Content;\nuse Illuminate\Mail\Mailables\Envelope;\nuse Illuminate\Queue\SerializesModels;\n\nclass $name extends Mailable\n{\n    use Queueable, SerializesModels;\n    private \$data;\n\n    /**\n     * Create a new message instance.\n     */\n    public function __construct(\$data)\n    {\n      \$this->data = \$data;\n    }\n\n    /**\n     * Get the message envelope.\n     */\n    public function envelope(): Envelope\n    {\n        return new Envelope(\n            subject: '$name',\n        );\n    }\n\n    /**\n     * Get the message content definition.\n     */\n    public function content(): Content\n    {\n      return new Content(\n        view: 'emails." . strtolower($name) . "',\n        with: ['data' => \$this->data],\n      );\n    }\n\n    /**\n     * Get the attachments for the message.\n     *\n     * @return array<int, \Illuminate\Mail\Mailables\Attachment>\n     */\n    public function attachments(): array\n    {\n        return [];\n    }\n}\n");
        File::createFile("resources/views/emails", strtolower($name) . ".blade.php", "@component('mail::message')\n{{ __('top') }}\n\n@component('mail::button', ['url' => route('register')])\n{{ __('Clique me') }}\n@endcomponent\n\n{{ __('Content :content', ['content' => 'to email']) }}\n\n{{ __('footer') }}\n@endcomponent\n");
        echo "\n";
    }
}

class Configure
{
    function __construct()
    {
        Terminal::clear();
        Message::headerSmart();

        switch (Commands::commandParam()) {
            case 'email':
                self::mail();
                break;
            case 'db':
                self::database();
                break;
            case 'composer':
                self::composer();
                break;
            default:
                echo Message::txtRed("Command not recognized.\n\n");
                break;
        }
    }

    static function mail()
    {
        echo Message::txtPurple("Configuring email environment.\n\n");

        Env::set('MAIL_MAILER', 'smtp');
        Env::set('MAIL_PORT', 465);
        Env::set('MAIL_ENCRYPTION', 'ssl');

        $mail_host = Inputs::type("Enter your email host", "mail.systemsaude.com.br");
        Env::setUncomment("MAIL_HOST", $mail_host);

        $mail_user = Inputs::type("Enter your email user", "noreply@systemsaude.com.br");
        Env::setUncomment("MAIL_USERNAME", $mail_user);

        $mail_password = Inputs::type("Enter your email password", '"T!Dhoc!4g);R"');
        Env::setUncomment("MAIL_PASSWORD", $mail_password);

        $mail_address = Inputs::type("Enter your email address", "noreply@systemsaude.com.br");
        Env::setUncomment("MAIL_FROM_ADDRESS", $mail_address);

        $mail_name = Inputs::type("Enter your email name", "Smart Techonologie");
        Env::setUncomment("MAIL_FROM_NAME", "\"$mail_name\"");

        Terminal::breakLines();
    }

    static function composer()
    {
        $_content = (object)[
            "version" => "",
            "homepage" => "",
            "authors" => [],
            "readme" => "./README.md"
        ];

        echo Message::txtPurple("Configuring Composer.\n\n");
        $content = File::read_json("composer.json");

        $name = Inputs::type("Enter your project name", "smart/project");
        $content->name = $name;

        $description = Inputs::type("Enter project description");
        $content->description = $description;

        $version = Inputs::type("Enter project version", "1.0.0");
        $_content->version = $version;

        $license = Inputs::type("Enter project license", "proprietary");
        $content->license = $license;

        $homepage = Inputs::type("Enter project homepage", "https://devsmt.com");
        $_content->homepage = $homepage;

        $hasAuthor = false;

        while (true) {
            if ($hasAuthor) {
                if (!Inputs::decisions("Add other author")) {
                    break;
                }
            }

            $author = Inputs::type("Enter project author name", "Edinaldo Felipe Santiago Filho");
            $data = new stdClass();

            if ($author) {
                $_author = strtolower(join("_", explode(" ", $author)));
                $data->name = $author;
                $data->email = Inputs::type("Enter project author email", "edinaldosantyago@hotmail.com");
                $data->homepage = Inputs::type("Enter project author homepage", "https://devsmt.com");
                $data->role = Inputs::type("Enter project author role", "Developer");

                $_content->authors[] = $data;
                $hasAuthor = true;
            } else {
                break;
            }
        }

        $content->keywords = [];
        $content->scripts->test = "./vendor/bin/phpunit --testdox tests";
        $content->scripts->{'test-unit'} = "./vendor/bin/phpunit --testdox tests/Unit";
        $content = array_merge(array_slice((array)$content, 0, 4), (array)$_content, array_slice((array)$content, 4));

        File::write_json("composer.json", $content);
        echo "\n";
    }

    static function database()
    {
        $dbs = ["mysql", "sqlite"];
        $dbsIndex = Inputs::options($dbs, "What's your database type");

        Env::set("DB_CONNECTION", $dbs[$dbsIndex]);

        if (!$dbsIndex) {
            $db_host = Inputs::type("Enter your database host", "127.0.0.1");
            Env::setUncomment("DB_HOST", $db_host);

            $db_port = Inputs::type("Enter your database port", "3306");
            Env::setUncomment("DB_PORT", $db_port);

            $db_random_name = "smart_" . bin2hex(random_bytes(5));
            $db_name = Inputs::type("Enter your database name", $db_random_name);
            Env::setUncomment("DB_DATABASE", $db_name);

            $db_user_name = Inputs::type("Enter your database user name", "root");
            Env::setUncomment("DB_USERNAME", $db_user_name);

            $db_password = Inputs::type("Enter your database password", "admin");
            Env::setUncomment("DB_PASSWORD", $db_password);

            Database::create($db_name);
        }
    }
}

class Inputs
{
    const ENTER_KEY = 10;
    const UP_KEY = 65;
    const DOWN_KEY = 66;
    const LEFT_KEY = 68;
    const RIGHT_KEY = 67;

    static public function type($message, $defalt = '')
    {
        echo Message::txtGreen($message) . Message::txtGray($defalt ? " [$defalt]" : "") . ": ";
        $result = rtrim(fgets(STDIN));
        return empty($result) ? $defalt : $result;
    }

    static public function decisions(string $message, $is_vertical = false, array $options = ["no", "yes"])
    {
        return Inputs::options($options, $message, $is_vertical);
    }

    static public function options($options, $message, $is_vertical = true)
    {
        $selectedIndex = 0;
        $backlines = $is_vertical ? count($options) + 2 : 3;

        Terminal::breakLines();
        Message::displayOptions($options, $selectedIndex, $message, $is_vertical);
        Terminal::show("stty cbreak -echo");
        Terminal::hiddenCursor();

        while (true) {
            $char = self::getPressedButton();

            if ($char === self::LEFT_KEY || $char === self::UP_KEY) {
                Terminal::backlineCursor($backlines);
                $selectedIndex = ($selectedIndex - 1 + count($options)) % count($options);
                Message::displayOptions($options, $selectedIndex, $message, $is_vertical);
            } elseif ($char === self::RIGHT_KEY || $char === self::DOWN_KEY) {
                Terminal::backlineCursor($backlines);
                $selectedIndex = ($selectedIndex + 1) % count($options);
                Message::displayOptions($options, $selectedIndex, $message, $is_vertical);
            } elseif ($char === self::ENTER_KEY) {
                Terminal::showCursor();
                Terminal::show("stty -cbreak echo");
                return $selectedIndex;
            }
        }
    }
    public static function getPressedButton(): int
    {
        return ord(fgetc(STDIN));
    }
}

class Help
{
    function __construct()
    {
        $this->welcome();
    }
    private function welcome()
    {
        echo Message::txtGreen("Commands List\n\n");
        echo "php smart --help                   Show this help\n";
        echo "php smart create                   Create a new project\n";
        echo "php smart serve                    Start serve\n";
        echo "php smart doc                      Create documentation structure\n";
    }
}

class Documentation
{
    function __construct()
    {
        switch (Commands::commandParam()) {
            case 'init':
                Message::headerDocs();
                self::create();
                break;
            default:
                echo "Documentation command not recognized.\n\n";
                break;
        }
    }

    static function create()
    {
        echo Message::txtPurpleLight("Creating documentation structure...\n\n");

        self::createReadme();
        self::createFolderStructure();
        self::createIndex();
        self::createArchitecture();
        self::createConfigurations();
        self::createDesigns();
        self::createDeveloper();
        self::createFixes();
        self::createGuides();
        self::createRequirements();
        self::createTests();
    }

    static function createFolderStructure()
    {
        $directories = [
            'docs/architecture',
            'docs/architecture/architecture',
            'docs/architecture/class-diagram',
            'docs/architecture/uml',
            'docs/architecture/used-technologies',
            'docs/configurations',
            'docs/designs',
            'docs/developer',
            'docs/fixes',
            'docs/guides',
            'docs/requirements',
            'docs/requirements/functionals',
            'docs/requirements/non-functionals',
            'docs/tests',
        ];

        foreach ($directories as $directory) {
            File::createFolder($directory);
        }
    }
    static function createReadme()
    {
        echo Message::txtPurpleLight("Creating README.md...\n");

        $description = Inputs::type("\nType a description to your project in README.md", "Description");
        $isMysql = Env::get("DB_CONNECTION") === 'mysql';

        if ($isMysql) {
            $sql_version = Database::first(Env::get("DB_DATABASE"), "SELECT VERSION()");
        } else {
            $sqlite = new SQLite3('database/database.sqlite');
            $sql_version = $sqlite->querySingle('SELECT SQLITE_VERSION()');
        }

        $packageData = File::read_json('package.json');
        $composerData = File::read_json('composer.json');

        $content = "# " . Env::get("APP_NAME") . "\n\n## Description\n\n" . $description . "\n\n## Features\n\n- Laravel " . $composerData->require->{'laravel/framework'} . "\n- PHP " . $composerData->require->php . "\n- Jetstream " . $composerData->require->{'laravel/jetstream'} . "\n- Inertia " . ($packageData->devDependencies->{'@inertiajs/vue3'} ?? $packageData->dependencies->{'@inertiajs/vue3'}) . "\n- PHPUnit " . $composerData->{'require-dev'}->{'phpunit/phpunit'} . "\n- Vue " . ($packageData->devDependencies->vue ?? $packageData->dependencies->vue) . "\n- Tailwind " . ($packageData->devDependencies->tailwindcss ?? $packageData->dependencies->tailwindcss) . "\n- Eslint " . ($packageData->devDependencies->eslint ?? $packageData->dependencies->eslint) . "\n- Prettier " . ($packageData->devDependencies->prettier ?? $packageData->dependencies->prettier) . "\n-Font Awesome 6.6.0\n" . ($isMysql ? "- Mysql $sql_version" : "") . "\n- SQlite $sql_version\n\n## Documentation\n\nRead documentation [here](./docs/index.md).\n\n## Contribution\n\nContributions are welcome! For suggestions, corrections, or new features, please open an issue or submit a pull request.\n";
        File::write("README.md", $content);
    }

    static function createIndex()
    {
        File::createFile('docs', 'index.md', "# Documentation\n\nWelcome to the documentation. This document serves as a guide to the main features and functionalities of the system. Here you will find detailed information on how to use and configure the system.\n\n## Main Topics\n\n- [Requirements](requirements/index.md)\n- [Designs](designs/index.md)\n- [Configurations](configurations/index.md)\n- [Architecture and Technical Development](architecture/index.md)\n- [Developer](developer/index.md)\n- [Tests](tests/index.md)\n- [User Guide](guides/index.md)\n- [Fixes and Improvements](fixes/index.md)\n\n---\n\n## Requirements\n\nIn this section, you will find detailed information about the functional and non-functional requirements of the project, as well as descriptions of current or planned features.\n\n- [Requirements](requirements/index.md)\n\n---\n\n## Design\n\nHere, we present the overall design of the system, including diagrams, data flows, and information about the user interface.\n\n- [Designs](designs/index.md)\n\n---\n\n## Configuration\n\nLearn how to configure and customize the system according to the needs of your company or project.\n\n- [Configurations](configurations/index.md)\n\n---\n\n## Architecture and Technical Development\n\nThis section contains detailed technical information about the architecture, database, and other aspects related to the development of the system.\n\n- [Architecture and Technical Development](architecture/index.md)\n\n---\n\n## Developer\n\nThis section contains detailed information to developers about the system.\n\n- [Developer](developer/index.md)\n\n---\n\n## Testing\n\nThis section covers testing scenarios and best practices to ensure that the system works correctly.\n\n- [Tests](tests/index.md)\n\n---\n\n## Guides\n\nFind step-by-step guides and tutorials to help you use the system effectively.\n\n- [User Guide](guides/index.md)\n\n---\n\n[Back](../README.md)");
    }
    static function createArchitecture()
    {
        File::createFile('docs/architecture', 'index.md', "# Arquitetura e Desenvolvimento Técnico\n\nBem-vindo à seção de Arquitetura e Desenvolvimento Técnico da documentação do projeto Memflash. Esta seção contém informações técnicas detalhadas sobre a arquitetura, o banco de dados e outros aspectos relacionados ao desenvolvimento do sistema.\n\n## Estrutura de Documentação\n\n- [Diagrama de Classes](class-diagram/index.md)\n- [UML do Banco de Dados](uml/index.md)\n- [Arquitetura de Software](architecture/index.md)\n- [Tecnologias Utilizadas](used-technologies/index.md)\n\nClique nos links acima para acessar documentação detalhada sobre cada tópico técnico.\n\n## Diagrama de Classes\n\nAqui você encontrará o diagrama de classes do sistema, que descreve a estrutura das classes e suas relações.\n\n[Detalhes do Diagrama de Classes](class-diagram/index.md)\n\n## UML do Banco de Dados\n\nEsta seção aborda a UML do banco de dados, incluindo tabelas, relacionamentos e esquema geral do banco de dados utilizado no projeto.\n\n[Detalhes da UML do Banco de Dados](uml/index.md)\n\n## Arquitetura de Software\n\nDescrevemos aqui a arquitetura de software utilizada no projeto, incluindo camadas, componentes e fluxos de dados.\n\n[Detalhes da Arquitetura de Software](architecture/index.md)\n\n## Tecnologias Utilizadas\n\nDocumentamos as principais tecnologias utilizadas no desenvolvimento do sistema, incluindo linguagens de programação, frameworks e bibliotecas.\n\n[Detalhes das Tecnologias Utilizadas](used-technologies/index.md)\n\n## Contribuições e Revisões\n\nSe você tiver sugestões, revisões ou comentários sobre aspectos técnicos do projeto, sinta-se à vontade para contribuir para a documentação ou entrar em contato com a equipe de desenvolvimento técnico. Seu feedback é importante para garantir a compreensão e manutenção adequada do sistema.\n\nAgradecemos por sua colaboração na documentação de Arquitetura e Desenvolvimento Técnico do projeto Memflash.\n\nVoltar para [Documentação](../index.md)\n");
        File::createFile('docs/architecture/architecture', 'index.md', "# Arquitetura de Software\n\nBem-vindo à seção de Arquitetura de Software da documentação do projeto Memflash. Esta seção descreve a arquitetura geral do sistema, incluindo a organização de pastas e arquivos, bem como o uso do padrão MVC (Model-View-Controller) em ambos, o Back-end e o Front-end.\n\n## Visão Geral\n\nO projeto Memflash adota uma arquitetura MVC para garantir uma separação clara de responsabilidades e facilitar a manutenção e escalabilidade do sistema. A arquitetura é dividida em duas partes principais: o Back-end e o Front-end.\n\n## Back-end (API)\n\n### Estrutura de Pastas e Arquivos\n\nA estrutura de pastas e arquivos do Back-end segue o padrão MVC:\n\n- **controllers**: Contém os controladores que lidam com a lógica de negócios da aplicação.\n- **models**: Aqui estão os modelos que representam os dados do sistema e interagem com o banco de dados.\n- **views**: Embora o Back-end não tenha uma camada de visualização no sentido tradicional, pode incluir modelos de dados e respostas JSON que serão consumidas pelo Front-end.\n- **routes**: Define as rotas da API, especificando quais controladores e métodos devem ser acionados em resposta a diferentes solicitações HTTP.\n- **middlewares**: Contém middlewares utilizados para funções comuns, como autenticação e autorização.\n- **config**: Armazena configurações gerais da aplicação.\n\n### Padrão MVC no Back-end\n\n- **Model**: Os modelos são responsáveis por definir a estrutura dos dados e interagir com o banco de dados. Eles encapsulam a lógica de acesso aos dados.\n- **View**: No Back-end, as views não são usadas para renderizar páginas da web, mas podem incluir modelos de dados retornados pela API.\n- **Controller**: Os controladores processam solicitações HTTP, chamam os modelos apropriados para buscar ou manipular dados e retornam respostas JSON aos clientes.\n\n## Front-end\n\n### Estrutura de Pastas e Arquivos\n\nA estrutura de pastas e arquivos do Front-end também segue o padrão MVC:\n\n- **src**: Contém o código-fonte do Front-end.\n  - **components**: Aqui estão os componentes reutilizáveis da interface do usuário.\n  - **models**: Define modelos de dados do Front-end, geralmente correspondendo aos modelos do Back-end.\n  - **views**: Contém as views da aplicação, que são responsáveis por renderizar a interface do usuário.\n  - **controllers**: Os controladores do Front-end gerenciam a interação entre as views e os modelos, controlando o fluxo de dados.\n- **public**: Armazena recursos estáticos, como imagens e arquivos CSS.\n- **config**: Pode conter configurações específicas do Front-end.\n\n### Padrão MVC no Front-end\n\n- **Model**: Os modelos do Front-end representam os dados que serão exibidos na interface do usuário. Eles podem ser sincronizados com os modelos do Back-end.\n- **View**: As views são responsáveis por renderizar a interface do usuário com base nos dados do modelo.\n- **Controller**: Os controladores do Front-end gerenciam a lógica de interação do usuário, atualizando modelos e views conforme necessário.\n\n## Contribuições e Revisões\n\nSe você tiver sugestões, revisões ou comentários sobre a arquitetura de software do projeto, sinta-se à vontade para contribuir para a documentação ou entrar em contato com a equipe de desenvolvimento. Sua contribuição é fundamental para manter a estrutura organizada e clara.\n\nAgradecemos por sua colaboração na documentação da Arquitetura de Software do projeto Memflash.\n\nVoltar para [Arquitetura e Desenvolvimento Técnico](../index.md)\n");
        File::createFile('docs/architecture/class-diagram', 'index.md', "# Diagrama de Classes UML - Projeto Memflash\n\nBem-vindo à seção de Diagrama de Classes UML do projeto Memflash. Abaixo, você encontrará links para os diagramas de classes das principais interfaces do projeto.\n\n## Diagrama de Classes UML\n\n- [Diagrama de Classes UML para ICard](card.md)\n- [Diagrama de Classes UML para IDeck](deck.md)\n- [Diagrama de Classes UML para IMasterDeck](masterdeck_uml.md)\n- [Diagrama de Classes UML para IUserConfig](user_config_uml.md)\n- [Diagrama de Classes UML para IUser](user_uml.md)\n\nClique nos links acima para visualizar os diagramas de classes das interfaces IMasterDeck, IUserConfig e IUser.\n\n## Contribuições e Revisões\n\nSe você tiver sugestões, revisões ou comentários sobre os diagramas de classes UML do projeto Memflash, sinta-se à vontade para contribuir para a documentação ou entrar em contato com a equipe de desenvolvimento. Sua contribuição é fundamental para garantir uma representação precisa da estrutura das interfaces.\n\nAgradecemos por sua colaboração na documentação do Diagrama de Classes UML do projeto Memflash.\n\nVoltar para [Arquitetura e Desenvolvimento Técnico](../index.md)\n");
        File::createFile('docs/architecture/class-diagram', 'card.md', "# Diagrama de Classes UML para ICard\n\n## Card\n\nClasse que representa um cartão (Card) no sistema.\n\n```sh\n+----------------------------------------------------+\n|                        Card                        |\n+----------------------------------------------------+\n| - audio: File                                      |\n| - midia: File                                      |\n| - deck_origin: {                                   |\n|     -_id: string                                   |\n|     - deck_name: string                            |\n| }                                                  |\n| - english_message: string                          |\n| - fonetics_message: string                         |\n| - portuguese_message: string                       |\n| - _id?: string                                     |\n+----------------------------------------------------+\n|                                                    |\n| - constructor(                                     |\n|     audio: File,                                   |\n|     midia: File,                                   |\n|     deck_origin: {                                 |\n|         _id: string,                               |\n|         deck_name: string,                         |\n|     },                                             |\n|     english_message: string,                       |\n|     fonetics_message: string,                      |\n|     portuguese_message: string,                    |\n|     _id?: string                                   |\n|   )                                                |\n|                                                    |\n+----------------------------------------------------+\n```\n\n## CardRequest\n\nClasse que representa uma requisição de criação ou atualização de um cartão.\n\n```sh\n+----------------------------------------------------+\n|                   CardRequest                      |\n+----------------------------------------------------+\n| - audio: File                                      |\n| - midia: File                                      |\n| - deck_origin: string                              |\n| - english_message: string                          |\n| - fonetics_message: string                         |\n| - portuguese_message: string                       |\n| - _id?: string                                     |\n+----------------------------------------------------+\n|                                                    |\n| - constructor(                                     |\n|     audio: File,                                   |\n|     midia: File,                                   |\n|     deck_origin: string,                           |\n|     english_message: string,                       |\n|     fonetics_message: string,                      |\n|     portuguese_message: string,                    |\n|     _id?: string                                   |\n|   )                                                |\n|                                                    |\n+----------------------------------------------------+\n```\n\n## CardResponse\n\nClasse que representa uma resposta contendo detalhes de um cartão.\n\n```sh\n+----------------------------------------------------+\n|                  CardResponse                      |\n+----------------------------------------------------+\n| - audio: {                                         |\n|     - file_name: string                            |\n|     - file_url: string                             |\n|     - key: string                                  |\n|     - type: string                                 |\n| }                                                  |\n| - midia: {                                         |\n|     - file_name: string                            |\n|     - file_url: string                             |\n|     - key: string                                  |\n|     - type: string                                 |\n| }                                                  |\n| - deck_origin: {                                   |\n|     -_id: string                                   |\n|     - deck_name: string                            |\n| }                                                  |\n| - english_message: string                          |\n| - fonetics_message: string                         |\n| - portuguese_message: string                       |\n| - _id?: string                                     |\n+----------------------------------------------------+\n|                                                    |\n| - constructor(                                     |\n|     audio: {                                       |\n|         file_name: string,                         |\n|         file_url: string,                          |\n|         key: string,                               |\n|         type: string,                              |\n|     },                                             |\n|     midia: {                                       |\n|         file_name: string,                         |\n|         file_url: string,                          |\n|         key: string,                               |\n|         type: string,                              |\n|     },                                             |\n|     deck_origin: {                                 |\n|         _id: string,                               |\n|         deck_name: string,                         |\n|     },                                             |\n|     english_message: string,                       |\n|     fonetics_message: string,                      |\n|     portuguese_message: string,                    |\n|     _id?: string                                   |\n|   )                                                |\n|                                                    |\n+----------------------------------------------------+\n```\n\nVoltar para [Diagrama de Classes UML](index.md)\n");
        File::createFile('docs/architecture/uml', 'index.md', "# UML do Banco de Dados\n\nBem-vindo à seção de UML do Banco de Dados da documentação do projeto Memflash. Nesta seção, descrevemos os diagramas UML que representam a estrutura do banco de dados do sistema.\n\n## Diagramas UML\n\n- [Diagrama UML do Card](card.md)\n- [Diagrama UML do Deck](deck.md)\n- [Diagrama UML do MasterDeck](masterdeck.md)\n- [Diagrama UML do User_Config](user_config.md)\n- [Diagrama UML do User](user.md)\n\nClique nos links acima para acessar detalhes sobre cada diagrama UML específico.\n\nVoltar para [Arquitetura e Desenvolvimento Técnico](../index.md)\n");
        File::createFile('docs/architecture/uml', 'card.md', "# UML do Banco de Dados - Entidade Card\n\nO diagrama UML a seguir representa a estrutura da entidade \"Card\" no banco de dados do projeto Memflash.\n\n## Descrição da Entidade Card\n\n- **fonetics_message**: Mensagem fonética do cartão.\n- **english_message**: Mensagem em inglês do cartão.\n- **portuguese_message**: Mensagem em português do cartão.\n- **deck_origin**: Referência ao Deck de origem do cartão (opcional).\n- **order**: Ordem única do cartão.\n- **audio**: Detalhes do áudio associado ao cartão.\n  - **file_name**: Nome do arquivo de áudio.\n  - **file_url**: URL do arquivo de áudio.\n  - **key**: Chave associada ao áudio.\n  - **type**: Tipo do áudio.\n- **midia**: Detalhes da mídia associada ao cartão.\n  - **file_name**: Nome do arquivo de mídia.\n  - **file_url**: URL do arquivo de mídia.\n  - **key**: Chave associada à mídia.\n  - **type**: Tipo da mídia.\n- **created_at**: Data de criação do cartão.\n- **updated_at**: Data de última atualização do cartão.\n\n## Diagrama UML\n\n![Diagrama UML da Entidade Card](uml/card_uml.png)\n\nVoltar para [UML do Banco de Dados](index.md)\n");
        File::createFile('docs/architecture/used-technologies', 'index.md', "# Tecnologias Utilizadas\n\nBem-vindo à seção de Tecnologias Utilizadas da documentação do projeto Memflash. Esta seção descreve as tecnologias e ferramentas utilizadas tanto no Front-end quanto no Back-end do sistema.\n\n## Front-end\n\nA parte Front-end do sistema é desenvolvida usando as seguintes tecnologias:\n\n- **React**: A versão 18.2.0 do React é a base da interface do usuário do sistema.\n- **TypeScript**: TypeScript 5.1.3 é usado para adicionar tipagem estática ao código JavaScript.\n- **ESLint**: O ESLint é utilizado para a análise estática do código e manutenção de padrões de código consistentes.\n- **Prettier**: O Prettier é utilizado para formatar automaticamente o código de acordo com as convenções definidas.\n- **Husky**: O Husky é usado para adicionar githooks que garantem a execução de tarefas, como a execução de linting e testes antes de fazer commit.\n- **Vite**: Vite é usado como um bundler e servidor de desenvolvimento para o Front-end.\n- **Tailwind CSS**: Tailwind CSS é o framework de estilos utilizado para estilizar a interface do usuário de forma eficiente e modular.\n\n## Back-end (API)\n\nO Back-end do sistema, que também atua como uma API, é desenvolvido usando as seguintes tecnologias:\n\n- **Node.js**: A versão mais atual do Node.js (18.15.0) é utilizada como ambiente de execução do servidor.\n- **TypeScript**: TypeScript 5.1.3 é usado para desenvolver a API com tipagem estática.\n- **ESLint**: O ESLint é utilizado para garantir a qualidade do código do Back-end.\n- **Prettier**: O Prettier é usado para manter a formatação consistente do código.\n- **Husky**: O Husky é configurado para executar tarefas importantes antes dos commits no Back-end.\n\n## Contribuições e Revisões\n\nSe você tiver sugestões, revisões ou comentários sobre as tecnologias utilizadas no projeto, sinta-se à vontade para contribuir para a documentação ou entrar em contato com a equipe de desenvolvimento. Sua contribuição ajuda a manter a transparência e compreensão das tecnologias usadas no sistema.\n\nAgradecemos por sua colaboração na documentação de Tecnologias Utilizadas no projeto Memflash.\n\nVoltar para [Arquitetura e Desenvolvimento Técnico](../index.md)\n");
    }

    static function createConfigurations()
    {
        File::createFile('docs/configurations', 'index.md', "# Documentação de Configurações\n\nBem-vindo à documentação de configurações do projeto Memflash. Esta seção contém informações detalhadas sobre as configurações e personalizações do sistema.\n\n## Estrutura de Documentação\n\n- [Banco de Dados](banco-de-dados/index.md)\n- [Autenticação](autenticacao/index.md)\n- [Segurança](seguranca/index.md)\n- [E-mail](email/index.md)\n- [Notificações](notificacoes/index.md)\n- [Terceiros](terceiros/index.md)\n\nClique nos links acima para acessar documentação detalhada sobre cada categoria de configuração.\n\n## Configuração do Banco de Dados\n\nEsta seção descreve as configurações relacionadas ao banco de dados usado pelo sistema.\n\n[Detalhes da Configuração do Banco de Dados](banco-de-dados/index.md)\n\n## Configuração de Autenticação\n\nAqui você encontrará informações sobre como configurar e personalizar a autenticação de usuários no sistema.\n\n[Detalhes da Configuração de Autenticação](autenticacao/index.md)\n\n## Configuração de Segurança\n\nEsta seção aborda as configurações de segurança do sistema, incluindo políticas de senha, proteção contra ameaças e muito mais.\n\n[Detalhes da Configuração de Segurança](seguranca/index.md)\n\n## Configuração de E-mail\n\nDocumentamos aqui as configurações relacionadas ao envio de emails pelo sistema, incluindo servidores SMTP, modelos de email e notificações por email.\n\n[Detalhes da Configuração de Email](email/index.md)\n\n## Configuração de Notificações\n\nEsta seção descreve como configurar notificações no sistema, incluindo eventos e métodos de entrega.\n\n[Detalhes da Configuração de Notificações](notificacoes/index.md)\n\n## Configuração de Terceiros\n\nSe houver integrações com serviços de terceiros, esta seção fornece informações sobre como configurar e gerenciar essas integrações.\n\n[Detalhes da Configuração de Terceiros](terceiros/index.md)\n\n## Contribuições e Revisões\n\nSe você tiver sugestões, revisões ou comentários sobre as configurações do sistema, sinta-se à vontade para contribuir para a documentação ou entrar em contato com a equipe de configurações. Seu feedback é valioso para garantir que o sistema seja configurado corretamente.\n\nAgradecemos por sua colaboração na documentação de configurações do projeto Memflash.\n\nVoltar para [Documentação](../index.md)\n");
    }

    static function createDesigns()
    {
        File::createFile('docs/designs', 'index.md', "# Documentação de Design\n\nBem-vindo à documentação de design do Projeto Memflash. Esta seção contém informações detalhadas sobre o design da interface do usuário e outros elementos visuais do sistema.\n\n## Estrutura de Documentação\n\n- [Wireframes](wireframes/index.md)\n- [Mockups de Interface](mockups/index.md)\n- [Fluxos de Usuário](fluxos/index.md)\n- [Paleta de Cores](paleta-de-cores/index.md)\n- [Tipografia](tipografia/index.md)\n- [Elementos de Interface](elementos-de-interface/index.md)\n\nClique nos links acima para acessar documentação detalhada sobre cada componente de design.\n\n## Wireframes\n\nAqui você encontrará wireframes que representam a estrutura e o layout das páginas da interface do usuário.\n\n[Detalhes dos Wireframes](wireframes/index.md)\n\n## Mockups de Interface\n\nOs mockups de interface são representações visuais mais detalhadas das páginas do sistema, incluindo elementos gráficos e de design.\n\n[Detalhes dos Mockups de Interface](mockups/index.md)\n\n## Fluxos de Usuário\n\nEsta seção descreve os principais fluxos que os usuários seguirão ao interagir com o sistema.\n\n[Detalhes dos Fluxos de Usuário](fluxos/index.md)\n\n## Paleta de Cores\n\nApresentamos aqui a paleta de cores utilizada no design, incluindo códigos de cores e orientações de uso.\n\n[Detalhes da Paleta de Cores](paleta-de-cores/index.md)\n\n## Tipografia\n\nDocumentamos a tipografia utilizada no design, incluindo fontes, tamanhos e estilos.\n\n[Detalhes da Tipografia](tipografia/index.md)\n\n## Elementos de Interface\n\nDetalhamemnto de elementos de interface personalizados.\n\n[Detalhes dos Elementos de Interface](elementos-de-interface/index.md)\n\n## Contribuições e Revisões\n\nSe você tiver sugestões, revisões ou comentários sobre o design, sinta-se à vontade para contribuir para a documentação ou entrar em contato com a equipe de design. Seu feedback é importante para aprimorar a experiência do usuário.\n\nAgradecemos por sua colaboração na documentação de design do projeto.\n\nVoltar para [Documentação](../index.md)\n");
    }

    static function createDeveloper()
    {
        File::createFile('docs/developer', 'index.md', "# Developer\n\n## Main Topics\n\n- [Dependencies](#dependencies)\n- [Install](#install)\n    - [Clone Project](#clone-project)\n    - [Smart Start](#smart-start)\n- [Run Project](#run-project)\n    - [Without Docker](#without-docker)\n    - [With Docker](#with-docker)\n    - [Mysql with Docker](#mysql-with-docker)\n- [Build Project](#build-project)\n    - [Development](#development)\n    - [Production](#production)\n- [Database Production](#database-production)\n- [CloudFlare](#cloudflare)\n    - [Log in](#log-in)\n    - [Purge Cache](#purge-cache)\n- [Server](#server)\n    - [Change Group](#change-group)\n- [Add New User](#add-new-user)\n    - [Cpanel](#cpanel)\n    - [Office System](#office-system)\n    - [Ponto Liberação](#ponto-liberação)\n    - [Address (New Office)](#address-(new-office))\n    - [Create Password](#create-password)\n- [Links](#links)\n- [New Subdomain](#new-subdomain)\n    - [Cpanel](#cpanel-1)\n        - [Create Database](#create-database)\n    - [User FTP](#user-ftp)\n        - [Create User](#create-user)\n        - [Change Permissions User](#change-permissions-user)\n    - [Configure Apache2](#configure-apache2)\n        - [Add Subdomain](#add-subdomain)\n        - [Enable Subdomain](#enable-subdomain)\n        - [Test Apache2 Configuration](#test-apache2-configuration)\n        - [Reload Apache2](#reload-apache2)\n    - [CloudFlare](#cloudflare-1)\n        - [Add DNS CloudFlare](#add-dns-cloudflare)\n    - [Project](#project)\n        - [Git Workflow File](#git-workflow-file)\n        - [Github add Secrets](#github-add-secrets)\n        - [Up Production](#up-production)\n    - [Server](#server-1)\n        - [Install Dependencies](#install-dependencies)\n        - [Configure Environment](#configure-environment)\n        - [Build Project](#build-project-1)\n\n---\n\n## Dependencies\n\n- Mysql (Required)\n- Docker (Optional)\n\n## Install\n\n### Clone Project\n\n```sh\ngit clone git@github.com:SystemSaude/office.git office \\ncd office\n```\n\n### Smart Start\n\nRun below command and follow the instructions.\n\n```sh\nphp smart start\n```\n\n---\n\n## Run Project\n\n### Without Docker\n\n```sh\nphp smart serve\n```\n\n---\n\n### With Docker\n\n```sh\ndocker-compose up -d\n```\n\n---\n\n## Mysql with Docker\n\nRun into terminal\n\n```sh\nNETWORK_NAME=$(grep DOCKER_NETWORK .env | cut -d '=' -f 2 | xargs)\nDATABASE_NAME=$(grep DB_DATABASE .env | cut -d '=' -f 2 | xargs)\nDB_PASSWORD=$(grep DB_PASSWORD .env | cut -d '=' -f 2 | xargs)\ndocker run -d --name mysql -e MYSQL_ROOT_PASSWORD=\${DB_PASSWORD} -e MYSQL_DATABASE=\${DATABASE_NAME} \\n-v \"$(pwd)\"/database/schema.sql:/docker-entrypoint-initdb.d/schema.sql \\n-v \"$(pwd)\"/database/seeder.sql:/docker-entrypoint-initdb.d/seeder.sql \\n--network=\${NETWORK_NAME} \\n-p 3306:3306 mysql:latest\n```\n\n---\n\n## Build Project\n\n### Development\n\n```sh\nnpm run serve\n```\n\n### Production\n\n```sh\nnpm run build\n```\n\n## Database Production\n\n1. Access database link [here](http://167.99.11.213/phpmyadmin)\n2. Type database user. Ex.: root\n3. Type database password. Ex.: AVNS_******\n\n## CloudFlare\n\n### Log in\n\n1. Access [CloudFlare](http://cloudflare.com)\n2. Click in `Log in`\n3. Type email `systemsaude@hotmail.com`\n4. Type password. Ex.: `@senha*****`\n\n### Purge Cache\n\n1. [Log in](#log-in)\n2. Click in `systemsaude.com.br`\n3. Click in `Purge Cache`\n4. Click in `Purge Everything` and again in `Purge Everything` \n\n---\n\n## Server\n\n### Change Group\n\n```sh\nchown www-data:www-data production -R\n```\n\n--- \n\n## Add New User\n\n### Cpanel\n\n- Create Professional E-mail (Cpanel) - [Cpanel](https://cpanel.systemsaude.com.br/unprotected/redirect.html?goto_uri=)\n- Create User into table **user** (phpMyAdmin)\n- Create Office Bank Account into table **fin_contas** (phpMyAdmin)\n- Create Personal Bank Account into table **fin_contas** (phpMyAdmin)\n- If new Office -> insert data into table **end_escritorios** (phpMyAdmin)\n\n### Office System\n\n- Insert into *UserInfos* - [Here](../../resourses/constants/UserInfos.php)\n- Insert into *config* -> **CONF** - [Here](../../public/js/config.js)\n- Insert into *office.constants* -> **OFFICES** - [Here](../../public/constants/office.constants.js)\n- Insert into *finance.constants* -> **USER_ACCOUNTS** - [Here](../../public/modules/finance/finance.constants.js)\n- Insert into *caixasEscritorios* -> **\$CAIXAS** and **switch** - [Here](../../app/Http/Cronjobs/caixasEscritorios.php)\n\n### Ponto Liberação\n\n- Insert into /recebimento/new.txt\n\n### Address (New Office)\n\n- Site\n- Google Maps (My Business)\n\n### Create Password\n\n- Send Recover e-mail by Login Page\n\n## Links\n\n- [Cpanel](https://cpanel.systemsaude.com.br/unprotected/redirect.html?goto_uri=)\n- [Database](http://167.99.11.213/phpmyadmin)\n- [CloudFlare](http://cloudflare.com)\n\n## New Subdomain\n\n### Cpanel\n\n#### Create Database\n\n- Go to [Cpanel](#links)\n- Create new database\n- Create new user\n- Link user to database\n\n### User FTP\n\n#### Create User\nadduser <user_name>\n\n#### Change Permissions User\n\n```sh\nchown <user_name>:<user_name> /var/www/system/production/<project_name>\n```\n\n### Configure Apache2\n\n#### Add Subdomain\n\n- Go to `/etc/apache2/sites-available/`\n- Create `<subdomain>.systemsaude.com.br.conf` and add below content\n\n```sh\n<VirtualHost *:80>\n    ServerName <subdomain>.systemsaude.com.br\n\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/system/production/<project_name>/public\n\n    ErrorLog \${APACHE_LOG_DIR}/error.log\n    CustomLog \${APACHE_LOG_DIR}/access.log combined\n</VirtualHost>\n```\n\n#### Enable Subdomain\n\n```sh\nsudo a2ensite <subdomain>.systemsaude.com.br.config\n```\n\n#### Test Apache2 Configuration\n\n```sh\napachectl configtest\n```\n\n#### Reload Apache2\n\n```sh\nsystemctl reload apache2\n```\n\n### CloudFlare\n\n#### Add DNS CloudFlare\n\n- Go to [CloudFlare](#links)\n- Select domain\n- Go to `DNS Records`\n- Add new `CNAME` record\n\n```sh\nCNAME <subdomain> <domain or IP>\n```\n\n### Project\n\n#### Git Workflow File\n\n- Go to [Workflow Folder](../../.github/workflows)\n- Create new file `<branch-name>.yml`\n- Add below content\n\n```yaml\nname: 🚀 Deploy System Saúde\non:\n  push:\n    branches:\n      - <branch-name>\njobs:\n  web-deploy:\n    name: 🎉 Deploy\n    runs-on: ubuntu-latest\n    steps:\n      - name: 🚚 Get latest code\n        uses: actions/checkout@v3\n\n      - name: 📂 Sync files\n        uses: SamKirkland/FTP-Deploy-Action@4.3.2\n        with:\n          server: \${{ secrets.SERVER }}\n          username: \${{ secrets.USER }}\n          password: \${{ secrets.PASSWORD }}\n          server-dir: systems/<project_name>\n          exclude: |\n            **/.git*\n            **/.git*/**\n            **/node_modules/**\n            **/vendor/**\n\n```\n\n#### Github add Secrets\n\n- Go to Github Repository\n- Go to Settings\n- Go to Secrets\n- Add new Secrets\n\n#### Up Production\n\n- Commit changes\n- Push changes\n\n### Server\n\n#### Install Dependencies\n\n```sh\ncomposer install && npm install\n```\n\n#### Configure Environment\n\n- Open [.env](../../.env)\n- Add database credentials\n\n#### Build Project\n\n```sh\nnpm run build\n```\n\n[Back](../index.MD)\n");
    }

    static function createFixes()
    {
        File::createFile('docs/fixes', 'index.md', "# Correções e Melhorias\n\nBem-vindo a seção de Correçoes e Melhorias, aqui você encontrará todas as novas solicitações de melhorias e correções de bugs.\n\n## Modificações\n\n- [FIX-001: Correção na Lógica da Marcação dos dias estudados e da soma dos dias de ofensiva](FIX-001.logic-offensive.md)\n\n---\n\n[Back](../index.md)");
        File::createFile('docs/fixes', 'FIX-001.logic-offensive.md', "# FIX-001: Correção na Lógica da Marcação dos dias estudados e da soma dos dias de ofensiva\n\n- Author: Edinaldo Felipe Santiago Filho\n- Created: 2023-10-07\n- Requested-by: Luiz Carlos\n\n---\n\n## Problema\n\nO aluno ao ficar um dia ou mais sem estudar, é resetada tanto a ofensiva quanto todos os dias marcados no calendário semanal.\n\n## Solução Proposta\n\nO sistema deve resetar os dias de ofensiva, mas deve manter o registro dos dias estudados na semana.\n\n## Análise\n\n- Foi identificado que o método `show` do controller `Auth` da API é chamado quando o aluno faz o login.\n- Nele é calculada a diferença entre o dia atual e o primeiro dia estudado(`start_time`). Se o valor for maior que 1, então o atributo `UserConfig.start_time` é atualizado data atual. Resetando assim todos os dias marcados.\n- A lógica de marcar os dias estudados e o total de ofensiva não está boa. Pois está apoiada a uma data. Impossibilitando fazer a marcação de dias de estudo alternados.\n\n## Plano de Ação\n\n- Adicionar novo atributo a collection `UserConfig` chamado `study_week_record` para conter os dias da semana estudado.\n- Adicionar novo atributo a collection `UserConfig` chamado `consecutive_study_days` para conter os dias estudados em sequência.\n- Renomear atributo da collection `UserConfig` chamado `start_time` para `last_date_studed` para conter o último dia estudado.\n- Remover os atributos `current_time` da collection `UserConfig`.\n- Refazer a lógica de exibir os dias estudados e o total de dias de ofensiva baseado nos novos atributos.\n- Refazer a regra de negócio, para atualizar os novos atributos após o aluno terminar o estudo do dia.\n- Refazer a validação caso o aluno fique sem estudar um dia ou mais.\n- Fazer uma nova validação para que todos os domingos\n- Para evitar que alunos antigos percam suas ofensivas com a atualização, desenvolver e rodar um script no banco de dados para adicionar no atributo `consecutive_study_days` os dias estudados dos alunos, levando como base o atributo `start_time`.\n\n---\n\n[Back](../index.md)");
    }

    static function createGuides()
    {
        File::createFile('docs/guides', 'index.md', "# Guides\n\n## Main Topics\n\n- []()\n\n---\n\n[Back](../index.md)");
    }

    static function createRequirements()
    {
        File::createFile('docs/requirements', 'index.md', "# Requisitos\n\nBem-vindo à seção de requisitos do Projeto Memflash. Nesta seção, você encontrará informações detalhadas sobre os requisitos funcionais e não funcionais que guiam o desenvolvimento do sistema.\n\n## Requisitos Funcionais\n\nOs requisitos funcionais descrevem as funcionalidades específicas que o sistema deve oferecer. Segue abaixo os requisitos funcionais, clique neles obter mais detalhes:\n\n- [RF-001: Gerenciamento de Dias de Estudos e Ofensivas](functionals/RF001-offensive.md)\n\n## Requisitos Não Funcionais\n\nOs requisitos não funcionais são critérios de qualidade e desempenho que o sistema deve atender. Aqui estão os requisitos não funcionais:\n\n- [RNF-001: Desempenho de Resposta](non-functionals/RNF001-response.md)\n- [RNF-002: Segurança de Dados](non-functionals/RNF002-securite.md)\n- [RNF-003: Usabilidade](non-functionals/RNF003-usability.md)\n- [RNF-004: Disponibilidade](non-functionals/RNF004-availability.md)\n- [RNF-005: Escalabilidade](non-functionals/RNF005-scalability.md)\n\n## Contribuição\n\nSe você tiver sugestões ou alterações para os requisitos existentes ou desejar propor novos requisitos, sinta-se à vontade para abrir uma issue em nosso repositório no GitHub ou entrar em contato com a equipe de desenvolvimento.\n\nAgradecemos pelo seu interesse em contribuir para o desenvolvimento e melhorias do projeto.\n\nVoltar para [Documentação](../index.md)\n");
        File::createFile('docs/requirements/functionals', 'RF001-offensive.md', "# RF-001: Gerenciamento de Dias de Estudos e Ofensivas\n\n## Descrição\n\nA funcionalidade \"Dias de Estudos e Ofensivas\" permite que os alunos rastreiem seus dias de estudos e mantenham uma contagem de ofensivas para medir sua consistência no estudo.\n\n## Requisitos\n\n1. **Registro Diário de Estudos**\n   - O sistema deve registrar automaticamente após o aluno terminar o estudo do dia.\n   - O sistema deve guardar a data do último dia de estudo, para poder validar a ofensiva.\n   - Cada dia em que o aluno estuda deve ser marcado no calendário da semana.\n\n2. **Redefinição da Ofensiva**\n   - A ofensiva é uma contagem de quantos dias seguidos o aluno estudou.\n   - Se o aluno ficar um ou mais dias sem estudar, a ofensiva deve ser redefinida para zero.\n\n3. **Exibição de Ofensiva Atual**\n   - O sistema deve exibir a ofensiva atual do aluno de forma visível, na página inicial após o login.\n\n4. **Histórico de Estudos**\n   - O sistema deve manter um histórico semanal dos dias de estudo concluído pelo aluno.\n   - Caso o aluno não estude em algum dia, o mesmo fica sem marcar.\n\n## Casos de Uso\n\n1. **Registro Diário de Estudos**\n   - O aluno acessa a plataforma e conclui o estudo do dia.\n   - O sistema marca o dia no calendário da semana.\n   - O sistema aumenta em 1 o número de ofensivas.\n\n2. **Redefinição da Ofensiva**\n   - Ao entrar no sistema verificar qual foi o último dia estudado. Se a data for inferior a do dia anterior, então a ofensiva será resetada.\n   - Se o aluno não estudar em um dia, a ofensiva atual é redefinida para zero.\n\n3. **Exibição de Ofensiva Atual**\n   - A ofensiva atual do aluno é exibida na interface principal do sistema.\n   - O aluno pode verificar quantos dias seguidos estudou.\n\n4. **Histórico de Estudos**\n   - O histórico semanal que mostra todos os dias de estudo registrados deve ficar na página principal.\n   - O histórico inclui dias da semana atual com os dias estudados e não estudados.\n\n## Critérios de Aceitação\n\n- O sistema deve ser capaz de rastrear os dias de estudo do aluno de forma precisa.\n- A ofensiva deve ser redefinida para zero se o aluno não estudar em um dia.\n- A ofensiva deve ser exibida de forma clara para o aluno.\n- O histórico semanal de estudos deve ser acessível e conter informações certas.\n\nVoltar para [Requisitos](../README.md)\n");
        File::createFile('docs/requirements/non-functionals', 'RNF001-response.md', "# RNF-001: Desempenho de Resposta\n\n**Descrição:** O sistema deve ser responsivo e fornecer uma resposta rápida ao aluno quando o mesmo estiver fazendo seus estudos diários e visualizar sua ofensiva.\n\n**Critérios de Aceitação:**\n\n- O sistema deve processar as ações do aluno, como o registro de estudo, em menos de 2 segundos.\n- A interface de usuário deve ser otimizada para carregar rapidamente, mesmo em conexões de internet mais lentas.\n\nVoltar para [Requisitos](../README.md)\n");
        File::createFile('docs/requirements/non-functionals', 'RNF002-securite', "# RNF-002: Segurança de Dados\n\n**Descrição:** Os dados relacionados aos dias de estudo e ofensiva do aluno devem ser armazenados de forma segura e protegidos contra acesso não autorizado.\n\n**Critérios de Aceitação:**\n\n- Os dados do aluno devem ser criptografados durante a transmissão e armazenados de forma segura no servidor.\n- Deve haver mecanismos de autenticação e autorização para garantir que apenas o aluno autorizado possa acessar seus dados.\n\nVoltar para [Requisitos](../README.md)\n");
        File::createFile('docs/requirements/non-functionals', 'RNF003-usability', "# RNF-003: Usabilidade\n\n**Descrição:** As funcionalidades devem ser intuitivas e de fácil uso, tornando-a acessível para alunos de diferentes níveis de habilidade tecnológica.\n\n**Critérios de Aceitação:**\n\n- A interface do usuário deve ser projetada de forma amigável, com instruções claras e elementos de fácil compreensão.\n- Deve haver suporte para acessibilidade, garantindo que alunos com necessidades especiais possam utilizar a funcionalidade sem dificuldades.\n\nVoltar para [Requisitos](../README.md)\n");
        File::createFile('docs/requirements/non-functionals', 'RNF004-availability', "# RNF-004: Disponibilidade\n\n**Descrição:** O sistema deve estar disponível para acesso dos alunos de forma confiável, minimizando o tempo de inatividade não planejado.\n\n**Critérios de Aceitação:**\n\n- O sistema deve ter uma taxa de disponibilidade de pelo menos 99,5% do tempo, excluindo períodos de manutenção programada.\n- Os períodos de manutenção programada devem ser comunicados aos alunos com antecedência.\n\nVoltar para [Requisitos](../README.md)\n");
        File::createFile('docs/requirements/non-functionals', 'RNF005-scalability', "# RNF-005: Escalabilidade\n\n**Descrição:** O sistema deve ser capaz de lidar com um aumento gradual no número de alunos que utilizam as funcionalidades sem comprometer o desempenho.\n\n**Critérios de Aceitação:**\n\n- O sistema deve ser escalável, permitindo o aumento da capacidade de processamento e armazenamento conforme necessário.\n- Deve ser monitorado o desempenho à medida que o número de usuários aumenta, e a infraestrutura deve ser dimensionada de acordo.\n\nVoltar para [Requisitos](../README.md)\n");
    }

    static function createTests()
    {
        File::createFile('docs/tests', 'index.md', "# Tests\n\n## Main Topics\n\n- []()\n\n---\n\n[Back](../index.md)");
    }

    function __destruct()
    {
        echo Message::txtPurpleLight("\nAdd below text to your ./README.md\n\n");
        echo Message::txtGreen("## Documentation\n\nRead documentation [here](./docs/index.md)\n\n");
    }
}

class Message
{
    static function headerSmart()
    {
        echo self::bgBlue('SMART') . "\n\n";
    }

    static function notParamsInstruction()
    {
        echo "Use: \n";
        echo self::txtGreen('php smart --help') . "\n\n";
    }

    /**
     * Displays options to user.
     * 
     * @param array $options List of options to display.
     * @param int $selectedIndex Index of selected option.
     * @param string $message Message to display above options.
     * @param boolean $is_vertical If true, displays options vertically.
     */
    static function displayOptions($options, $selectedIndex, $message, $is_vertical = true)
    {
        $_options = [];
        $pipe = self::txtGray("\u{2502}");
        $underline = self::txtGray("\u{2500}");
        $title = self::txtGray("\u{250C} ") . self::txtCyan($message . "? ");
        $len_title = strlen($message) + 1;
        $max = $len_title;
        $line = '';

        foreach ($options as $index => $option) {
            $_option = '';
            if ($index === $selectedIndex) {
                $_option = self::txtGreen("\u{29BF} ") . ucfirst($option);
            } else {
                $_option = self::txtGray("\u{25CB} " . ucfirst($option));
            }
            $max = max($max, strlen($_option) - 11);
            $_options[] = $_option;
        }

        if ($is_vertical) {
            foreach ($_options as $_option) {
                $line .= "$pipe " . $_option . str_repeat(' ', $max - (strlen($_option) - 12)) . "$pipe\n";
            }
        } else {
            $line = join(self::txtGray(" | "), $_options);
            $len_options = strlen($line) - (count($_options) * 11) - ((count($_options) - 1) * 9);
            $max = max($len_options, $max);
        }

        echo "\r" . $title . str_repeat($underline, $max - $len_title) . self::txtGray("\u{2510}") . "\n";
        echo "\r" . ($is_vertical ? $line : "$pipe $line " . str_repeat(' ', $max - $len_options) . $pipe . "\n");
        echo "\r" . self::txtGray("\u{2514}") . str_repeat($underline, $max + 2) . self::txtGray("\u{2518}\n");
    }

    static function headerDocs()
    {
        echo self::bgGreen('DOCS') . " Initializing Documentation Structure.\n\n";
    }

    static function actionLine($begin, $end = 'DONE')
    {
        echo $begin . self::txtGray(self::dots($begin, $end)) . self::txtGreen($end) . "\n";
    }

    public static function italic($string)
    {
        return "\033[3;5m$string\033[0m";
    }

    public static function underline($string)
    {
        return "\033[4;5m$string\033[0m";
    }

    public static function strikethrough($string)
    {
        return "\033[9;5m$string\033[0m";
    }

    public static function txtRed($string)
    {
        return "\033[31m$string\033[0m";
    }

    public static function txtGreen($string)
    {
        return "\033[32m$string\033[0m";
    }

    public static function txtYellow($string)
    {
        return "\033[33m$string\033[0m";
    }

    public static function txtBlue($string)
    {
        return "\033[34m$string\033[0m";
    }

    public static function txtPurple($string)
    {
        return "\033[35m$string\033[0m";
    }

    public static function txtCyan($string)
    {
        return "\033[36m$string\033[0m";
    }

    public static function txtGray($string)
    {
        return "\033[90m$string\033[0m";
    }

    public static function txtRedLight($string)
    {
        return "\033[91m$string\033[0m";
    }

    public static function txtGreenLight($string)
    {
        return "\033[92m$string\033[0m";
    }

    public static function txtYellowLight($string)
    {
        return "\033[93m$string\033[0m";
    }

    public static function txtBlueLight($string)
    {
        return "\033[94m$string\033[0m";
    }

    public static function txtPurpleLight($string)
    {
        return "\033[95m$string\033[0m";
    }

    public static function txtCyanLight($string)
    {
        return "\033[96m$string\033[0m";
    }

    private static function bgGreen($string)
    {
        return "\033[42m $string \033[0m";
    }

    private static function bgBlue($string)
    {
        return "\033[44m $string \033[0m";
    }

    public static function error($string)
    {
        echo "\n" . Message::txtRed('Error: ') . "$string\n";
    }

    private static function dots($begin, $end)
    {
        $cmdWidth = Terminal::get('tput cols')[0];
        return ' ' . str_repeat('.', $cmdWidth - strlen($begin) - strlen($end) - 2) . ' ';
    }
}

class File
{
    public static function read($path)
    {
        return file_get_contents($path);
    }

    public static function read_json($path)
    {
        return json_decode(File::read($path));
    }

    public static function write($path, $content, $flag = 0)
    {
        file_put_contents($path, $content, $flag);
    }

    public static function write_json($path, $content)
    {
        self::write($path, preg_replace('/\\\\\//', '/', json_encode((object)$content, JSON_PRETTY_PRINT)));
    }

    static public function createFolder($folders, $permissions = 0755)
    {
        mkdir(__DIR__ . '/' . $folders, $permissions, true);
        Message::actionLine($folders);
    }

    static public function createFile($path, $file, $content = '')
    {
        $directory = __DIR__ . '/' . $path;

        if (!is_dir($directory)) {
            self::createFolder($path);
        }
        self::write($directory . "/$file", $content);
        Message::actionLine($path . '/' . $file);
    }

    static public function getMatches($pattern, $path)
    {
        preg_match($pattern, self::read($path), $matches);
        return $matches;
    }

    static public function replace($pattern, $replace, $path)
    {
        self::write($path, preg_replace($pattern, $replace, self::read($path)));
    }

    static function uncomment($content, $path, $comment = '\/\/ ')
    {
        self::write($path, preg_replace('/' . $comment . $content . '/', $content, self::read($path)));
    }

    static public function move($origin, $destination)
    {
        copy($origin, __DIR__ . '/' . $destination);
    }
}

class Env
{
    const FILE = '.env';

    static public function get($key)
    {
        return File::getMatches('/^' . $key . '=(.*)$/m', self::FILE)[1];
    }
    static public function set($key, $value): void
    {
        File::replace('/^' . $key . '=(.*)$/m', $key . '=' . $value, self::FILE);
    }

    static public function setUncomment($key, $value): void
    {
        File::uncomment($key, self::FILE, '# ');
        self::set($key, $value);
    }
}

class Strings
{
    static function singularize($word, $isPlural = false)
    {
        $singular = $word;

        // Regras básicas para singularização
        $rules = [[
            '/(s)tatuses$/i' => '\1tatus',
            '/(s)eries$/i' => '\1eries',
            '/([^aeiouy]|qu)ies$/i' => '\1y',
            '/(m)ovies$/i' => '\1ovie',
            '/(x|ch|ss|sh)es$/i' => '\1',
            '/(s)ales$/i' => '\1ale',
            '/(t)axes$/i' => '\1ax',
            '/(c)riteria$/i' => '\1riterion',
            '/(p)ersons$/i' => '\1erson',
            '/(p)eople$/i' => '\1erson',
            '/(m)en$/i' => '\1an',
            '/(c)hildren$/i' => '\1hild',
            '/(n)ews$/i' => '\1ews',
            '/([^us])s$/i' => '\1'
        ], [
            '/(s)tatus$/i' => '\1tatuses',
            '/(s)eries$/i' => '\1eries',
            '/([^aeiouy]|qu)y$/i' => '\1ies',
            '/(m)ovie$/i' => '\1ovies',
            '/(x|ch|ss|sh)$/i' => '\1es',
            '/(s)ale$/i' => '\1ales',
            '/(t)ax$/i' => '\1axes',
            '/(c)riterion$/i' => '\1riteria',
            '/(p)erson$/i' => '\1persons',
            '/(p)erson$/i' => '\1people',
            '/(m)an$/i' => '\1men',
            '/(c)hild$/i' => '\1children',
            '/(n)ews$/i' => '\1ews',
            '/([^us])$/i' => '\1s',
        ]];

        // Aplicar regras de singularização
        foreach ($rules[$isPlural ? 1 : 0] as $rule => $replacement) {
            if (preg_match($rule, $word)) {
                $singular = preg_replace($rule, $replacement, $word);
                break;
            }
        }

        return $singular;
    }
}

class Database
{
    protected static $connection;

    public static function connect(string $database = null)
    {
        try {
            static::$connection = new \mysqli(
                Env::get('DB_HOST'),
                Env::get('DB_USERNAME'),
                Env::get('DB_PASSWORD'),
                $database,
                Env::get('DB_PORT')
            );

            if (!static::$connection->connect_errno) {
                static::$connection->set_charset('utf8');
                return static::$connection;
            } else {
                Message::error(mysqli_connect_error());
                return false;
            }
        } catch (\Throwable $th) {
            Message::error('Database connection failed.');
            return false;
        }
    }

    public static function query(string $db, string $query): bool
    {
        self::connect($db);
        return static::$connection->multi_query($query);
    }

    public static function first(string $db, string $query): ?\stdClass
    {
        try {
            $data = self::process(self::query($db, $query));
            return $data ? $data[0] : null;
        } catch (\Throwable $th) {
            return null;
        }
    }

    public static function get(string $db, string $query): ?array
    {
        return self::process(self::query($db, $query));
    }

    protected static function process($result): ?array
    {
        if (!$result->num_rows) {
            return null;
        }

        $data = [];
        while ($row = $result->fetch_assoc()) {
            $data[] = (object)$row;
        }

        return $data;
    }

    static function close(): void
    {
        static::$connection->close();
    }

    public static function delete($db): void
    {
        self::connect();
        self::$connection->query("SET FOREIGN_KEY_CHECKS = 0;");
        self::$connection->query("DROP DATABASE IF EXISTS `$db`");
        self::$connection->query("SET FOREIGN_KEY_CHECKS = 1;");
    }

    public static function create($db): void
    {
        if (self::connect()) {
            self::delete($db);
            self::$connection->query("CREATE DATABASE IF NOT EXISTS `$db`");
        } else {
            if (Inputs::decisions("Do you want try again")) {
                Configure::database();
            }
        }
    }
}

class Terminal
{

    public static function clear(): void
    {
        self::show('clear');
    }

    public static function exec($prompt): void
    {
        exec($prompt);
    }

    /**
     * @return string | int     Last line displayed
     */
    public static function show($prompt)
    {
        return system($prompt);
    }

    public static function get($prompt): array
    {
        $output = [];
        exec($prompt, $output);
        return $output;
    }

    public static function getBinary($prompt)
    {
        $output = 0;
        passthru($prompt, $output);
        return $output;
    }

    public static function hiddenCursor()
    {
        echo "\033[?25l";
    }

    public static function showCursor()
    {
        echo "\033[?25h";
    }

    public static function backlineCursor($lines = 1)
    {
        echo str_repeat("\033[F", $lines);
    }

    public static function breakLines($count = 1)
    {
        echo str_repeat("\n", $count);
    }
}

class Icon
{
    static function create()
    {
        echo Message::txtPurpleLight("\nAdd Icon\n\n");

        $basePath = getenv('HOME') . '/Downloads/';
        $outputDir = 'public/assets/images/favicons/';
        $outputDirTemplate = 'public/assets/images/template/';
        File::createFolder($outputDir);
        File::createFolder($outputDirTemplate);

        while (true) {
            $imagePath = Inputs::type("Enter image's path [$basePath]");

            if ($imagePath) {
                $imagePath = $basePath . $imagePath;

                Terminal::breakLines();

                try {
                    self::cropAndResizeImage($imagePath, "{$outputDir}apple-touch-icon.png", 180, 180);
                    self::cropAndResizeImage($imagePath, "{$outputDir}favicon-32x32.png", 32, 32);
                    self::cropAndResizeImage($imagePath, "{$outputDir}favicon-16x16.png", 16, 16);
                    self::cropAndResizeImage($imagePath, 'public/favicon.ico', 32, 32);
                    self::cropAndResizeImage($imagePath, "{$outputDirTemplate}logo.png", 100, 100);
                    break;
                } catch (\Throwable $th) {
                    Message::error('Icons could not be created.');

                    if (!Inputs::decisions("Do you want try again")) {
                        break;
                    }
                }
            } else {
                break;
            }
        }
    }

    static function addIconLinks()
    {
        File::replace('/<!-- Scripts -->/', "<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/assets/images/favicons/apple-touch-icon.png\">\n    <link rel=\"icon\" type=\"/image/png\" sizes=\"32x32\" href=\"/assets/images/favicons/favicon-32x32.png\">\n    <link rel=\"icon\" type=\"/image/png\" sizes=\"16x16\" href=\"/assets/images/favicons/favicon-16x16.png\">\n    <link rel=\"shortcut icon\" type=\"/image/x-icon\" href=\"/favicon.ico\">\n\n    <!-- Scripts -->", 'resources/views/app.blade.php');
    }

    static function cropAndResizeImage($sourcePath, $targetPath, $width, $height)
    {
        try {
            list($originalWidth, $originalHeight) = getimagesize($sourcePath);
            $imageResource = imagecreatefromstring(file_get_contents($sourcePath));

            $minSide = min($originalWidth, $originalHeight);

            $x = ($originalWidth - $minSide) / 2;
            $y = ($originalHeight - $minSide) / 2;

            $croppedImage = imagecreatetruecolor($minSide, $minSide);

            imagealphablending($croppedImage, false);
            imagesavealpha($croppedImage, true);

            $transparent = imagecolorallocatealpha($croppedImage, 0, 0, 0, 127);
            imagefill($croppedImage, 0, 0, $transparent);

            imagecopyresampled($croppedImage, $imageResource, 0, 0, $x, $y, $minSide, $minSide, $minSide, $minSide);

            $resizedImage = imagecreatetruecolor($width, $height);

            imagealphablending($resizedImage, false);
            imagesavealpha($resizedImage, true);

            $transparent = imagecolorallocatealpha($resizedImage, 0, 0, 0, 127);
            imagefill($resizedImage, 0, 0, $transparent);

            imagecopyresampled($resizedImage, $croppedImage, 0, 0, 0, 0, $width, $height, $minSide, $minSide);

            imagepng($resizedImage, $targetPath);

            imagedestroy($croppedImage);
            imagedestroy($resizedImage);
            imagedestroy($imageResource);

            Message::actionLine($targetPath);
        } catch (\Exception $error) {
            echo Message::txtRed("Erro to create image: $targetPath\n");
        }
    }
}

class Loader
{
    const SYMBOLS = [
        'slim_bar' => "\u{2500}",
        'small_bar' => "\u{2501}",
        'medium_bar' => "\u{25A0}",
        'larg_bar' => "\u{2588}",
        'pipe' => "\u{2502}",
    ];

    const DESCRIPTORS = [
        0 => ['pipe', 'r'],
        1 => ['pipe', 'w'],
        2 => ['pipe', 'w'],
    ];

    static $symbol = '';

    public static function start($command, $duration = 10, $symbol = 'slim_bar')
    {
        self::$symbol = self::SYMBOLS[$symbol];

        $process = proc_open($command, self::DESCRIPTORS, $pipes);

        if (is_resource($process)) {
            Terminal::hiddenCursor();
            self::progressBar($process, $duration);

            fclose($pipes[1]);
            fclose($pipes[2]);

            proc_close($process);

            Terminal::breakLines(2);
            Terminal::showCursor();
        }
    }
    public static function progressBar($process, $duration)
    {
        $time = new DateTime();
        $done = 0;
        $total = 100;
        $step = 1;

        while (true) {
            self::renderProgressBar($time, $done, $total);

            if (!proc_get_status($process)['running']) {
                if ($done < $total) {
                    self::renderProgressBar($time, 100, $total);
                }
                break;
            }

            $done += $step;

            if ($done > $total) {
                $done = $total;
            }

            usleep($duration * 1e4);
        }
    }

    public static function renderProgressBar($time, $done, $total = 100)
    {
        $size = 30;
        $back_bar = '';
        $sizeDone = floor((float)($done / $total) * $size);
        $done_bar = str_repeat(Message::txtPurpleLight(self::$symbol), $sizeDone);

        if ($sizeDone < $size) {
            $back_bar = str_repeat(Message::txtGray(self::$symbol), $size - $sizeDone);
        }

        echo "\r$done_bar$back_bar " . Message::txtGreen("$done/$total%") . " " .
            // Message::txtRed("5.2 MB/s") . " eta " . 
            Message::txtBlue(self::getDiffTime($time));
    }

    public static function getDiffTime($startTime)
    {
        return $startTime->diff(new DateTime())->format('%H:%I:%S');
    }
}

new Smart();
